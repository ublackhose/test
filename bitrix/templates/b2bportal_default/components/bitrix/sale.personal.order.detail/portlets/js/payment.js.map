{"version":3,"file":"payment.js","sources":["../src/payment.js"],"sourcesContent":["export class Payment\n{\n\tconstructor(el, params)\n\t{\n\t\tthis.$el = el;\n\n\t\tthis.data = params.paymentData;\n\n\t\tthis.ajaxPath = params.ajaxPath || '';\n\t\tthis.templateName = params.templateName || '.default';\n\n\t\tthis.initEvents();\n\t}\n\n\tinitEvents()\n\t{\n\t\tconst changeButton = this.$el.querySelector('[data-entity=\"change-payment\"]');\n\t\tif (changeButton)\n\t\t{\n\t\t\tchangeButton.addEventListener('click', this.onChangePaymentHandle.bind(this), {once: true});\n\t\t}\n\t}\n\n\tonChangePaymentHandle(event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tBX.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdataType: 'html',\n\t\t\t\turl: this.ajaxPath,\n\t\t\t\tdata:\n\t\t\t\t{\n\t\t\t\t\tsessid: BX.bitrix_sessid(),\n\t\t\t\t\torderData: this.data,\n\t\t\t\t\ttemplateName : this.templateName\n\t\t\t\t},\n\t\t\t\tonsuccess: html => {\n\t\t\t\t\tconst dropdown = this.$el.querySelector('[data-entity=\"payment-list\"]');\n\t\t\t\t\tdropdown.innerHTML = html;\n\t\t\t\t},\n\t\t});\n\t}\n}"],"names":["Payment","el","params","$el","data","paymentData","ajaxPath","templateName","initEvents","changeButton","querySelector","addEventListener","onChangePaymentHandle","bind","once","event","preventDefault","BX","ajax","method","dataType","url","sessid","bitrix_sessid","orderData","onsuccess","html","dropdown","innerHTML"],"mappings":";;;;KAAaA,OAAb;GAEC,iBAAYC,EAAZ,EAAgBC,MAAhB,EACA;KAAA;KACC,KAAKC,GAAL,GAAWF,EAAX;KAEA,KAAKG,IAAL,GAAYF,MAAM,CAACG,WAAnB;KAEA,KAAKC,QAAL,GAAgBJ,MAAM,CAACI,QAAP,IAAmB,EAAnC;KACA,KAAKC,YAAL,GAAoBL,MAAM,CAACK,YAAP,IAAuB,UAA3C;KAEA,KAAKC,UAAL;;;GAXF;KAAA;KAAA,6BAeC;OACC,IAAMC,YAAY,GAAG,KAAKN,GAAL,CAASO,aAAT,CAAuB,gCAAvB,CAArB;;OACA,IAAID,YAAJ,EACA;SACCA,YAAY,CAACE,gBAAb,CAA8B,OAA9B,EAAuC,KAAKC,qBAAL,CAA2BC,IAA3B,CAAgC,IAAhC,CAAvC,EAA8E;WAACC,IAAI,EAAE;UAArF;;;;KAnBH;KAAA,sCAuBuBC,KAvBvB,EAwBC;OAAA;;OACCA,KAAK,CAACC,cAAN;OAEAC,EAAE,CAACC,IAAH,CAAQ;SACNC,MAAM,EAAE,MADF;SAENC,QAAQ,EAAE,MAFJ;SAGNC,GAAG,EAAE,KAAKf,QAHJ;SAINF,IAAI,EACJ;WACCkB,MAAM,EAAEL,EAAE,CAACM,aAAH,EADT;WAECC,SAAS,EAAE,KAAKpB,IAFjB;WAGCG,YAAY,EAAG,KAAKA;UARf;SAUNkB,SAAS,EAAE,mBAAAC,IAAI,EAAI;WAClB,IAAMC,QAAQ,GAAG,KAAI,CAACxB,GAAL,CAASO,aAAT,CAAuB,8BAAvB,CAAjB;;WACAiB,QAAQ,CAACC,SAAT,GAAqBF,IAArB;;QAZH;;;GA3BF;CAAA;;;;;;;;"}