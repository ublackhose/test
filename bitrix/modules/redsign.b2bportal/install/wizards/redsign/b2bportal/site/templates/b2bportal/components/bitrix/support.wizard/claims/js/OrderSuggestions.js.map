{"version":3,"file":"OrderSuggestions.js","sources":["../src/VueOrderSuggestions.vue?rollup-plugin-vue=script.js","../../../../../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/VueOrderSuggestions.vue","../src/OrderSuggestions.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nconst GET_ORDERS_ACTION_NAME = 'redsign:b2bportal.api.orders.getOrders';\n\nexport default {\n\n\tprops:\n\t{\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tminLength: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault:  0\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tcursor: 0,\n\t\t\tisFocused: false,\n\t\t\tloadings: [],\n\n\t\t\tquery: this.value,\n\t\t\tsuggestions: []\n\t\t}\n\t},\n\n\tcomputed: {  \n\n\t\tisVisibleSuggestions()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.isFocused && \n\t\t\t\tthis.suggestions.length > 0\n\t\t\t);\n\t\t},\n\n\t\tdropdownStyles()\n\t\t{\n\t\t\treturn {\n\t\t\t\tmaxHeight: '240px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t}\n\t\t},\n\n\t\tisLoading()\n\t\t{\n\t\t\treturn Boolean(this.loadings.length);\n\t\t},\n\n\t\tloadingClasses()\n\t\t{\n\t\t\tif (this.isLoading)\n\t\t\t{\n\t\t\t\treturn ['kt-spinner', 'kt-spinner--input', 'kt-spinner--sm', 'kt-spinner--brand', 'kt-spinner--right'];\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t},\n\n\tmounted()\n\t{\n\t\tconst clickOutside = (event) => {\n\n\t\t\tif (this.isFocused && this.$refs.input !== document.activeElement)\n\t\t\t{\n\t\t\t\tconst target = event.target;\n\t\t\t\tif (target != this.$el && !this.$el.contains(target))\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.input.blur();\n\t\t\t\t\tthis.isFocused = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('mouseup', clickOutside);\n\t\tdocument.addEventListener('touchstart', clickOutside);\n\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tconst keyName = event.key;\n\n\t\t\tif (this.isFocused && keyName == 'Escape')\n\t\t\t{\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tthis.$refs.input.blur();\n\t\t\t}\n\t\t});\n\t},\n\n\tmethods: {\n\t\t\n\t\thandleFocus()\n\t\t{\n\t\t\tthis.isFocused = true;\n\t\t\tthis.load();\n\t\t},\n\n\t\thandleBlur()\n\t\t{\n\t\t\tconst relatedTarget = event.relatedTarget || document.activeElement;\n\n\t\t\tif (relatedTarget)\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\trelatedTarget != this.$refs.dropdown && \n\t\t\t\t\t!this.$refs.dropdown.contains(relatedTarget)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.isFocused = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{   \n\t\t\t\tthis.isFocused = false;\n\t\t\t}\n\t\t},\n\n\t\thandleInput()\n\t\t{\n\t\t\tthis.$emit('input', this.query);\n\t\t\t\n\t\t\tif (this.query.length >= this.minLength)\n\t\t\t{\n\t\t\t\tthis.load(this.query);\n\t\t\t}\n\t\t},\n\n\t\tselect(suggestion)\n\t\t{\n\t\t\tthis.query = suggestion;\n\t\t\t\n\t\t\tthis.isFocused = false;\n\t\t\tthis.$refs.input.blur();\t\n\t\t},\n\n\t\tasync load(query)\n\t\t{\n\t\t\tthis.loadings.push(true);\n\t\t\t\n\t\t\tconst result = await this.loadSuggestions(query);\n\t\t\tthis.suggestions = result.data;\n\t\t\t\n\t\t\tthis.loadings.pop();\n\t\t},\n\n\t\tloadSuggestions(query)\n\t\t{\n\t\t\tconst data = {\n\t\t\t\taccountNumber: this.query\n\t\t\t};\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tBX.ajax.runAction(GET_ORDERS_ACTION_NAME, { data })\n\t\t\t\t\t.then(resolve, reject);\n\t\t\t});\n\t\t}\n\t},\n\n\twatch: \n\t{\n\t\tvalue()\n\t\t{\n\t\t\tthis.query = value;\n\t\t}\n\t}\n}\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","<template>\n\t<div class=\"d-block position-relative\">\n\t\t<div :class=\"loadingClasses\">\n\t\t\t<input \n\t\t\t\tref=\"input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"form-control\"\n\t\t\t\t:placeholder=this.placeholder\n\t\t\t\t:name=\"name\"\n\t\t\t\tv-model=\"query\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t@focus=\"handleFocus\"\n\t\t\t\t@blur=\"handleBlur\"\n\t\t\t\t@input=\"handleInput\"\n\t\t\t>\n\t\t</div>\n\t\t<div \n\t\t\tref=\"dropdown\"\n\t\t\tclass=\"dropdown-menu dropdown-menu-anim dropdown-menu-fit dropdown-menu-right dropdown-menu-xl ps ps--active-y mw-100\"\n\t\t\t:class=\"{ show: isVisibleSuggestions && !isLoading }\"\n\t\t\t:style=\"dropdownStyles\" \n\t\t\tdata-scroll=\"true\" \n\t\t>\n\t\t\t<a class=\"dropdown-item flex-column\" href=\"#\" v-for=\"(item, index) in suggestions\" :key=\"index\" @click.prevent=\"select(item)\">\n\t\t\t\t{{ item }}\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\nconst GET_ORDERS_ACTION_NAME = 'redsign:b2bportal.api.orders.getOrders';\n\nexport default {\n\n\tprops:\n\t{\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tminLength: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault:  0\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tcursor: 0,\n\t\t\tisFocused: false,\n\t\t\tloadings: [],\n\n\t\t\tquery: this.value,\n\t\t\tsuggestions: []\n\t\t}\n\t},\n\n\tcomputed: {  \n\n\t\tisVisibleSuggestions()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.isFocused && \n\t\t\t\tthis.suggestions.length > 0\n\t\t\t);\n\t\t},\n\n\t\tdropdownStyles()\n\t\t{\n\t\t\treturn {\n\t\t\t\tmaxHeight: '240px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t}\n\t\t},\n\n\t\tisLoading()\n\t\t{\n\t\t\treturn Boolean(this.loadings.length);\n\t\t},\n\n\t\tloadingClasses()\n\t\t{\n\t\t\tif (this.isLoading)\n\t\t\t{\n\t\t\t\treturn ['kt-spinner', 'kt-spinner--input', 'kt-spinner--sm', 'kt-spinner--brand', 'kt-spinner--right'];\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t},\n\n\tmounted()\n\t{\n\t\tconst clickOutside = (event) => {\n\n\t\t\tif (this.isFocused && this.$refs.input !== document.activeElement)\n\t\t\t{\n\t\t\t\tconst target = event.target;\n\t\t\t\tif (target != this.$el && !this.$el.contains(target))\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.input.blur();\n\t\t\t\t\tthis.isFocused = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('mouseup', clickOutside);\n\t\tdocument.addEventListener('touchstart', clickOutside);\n\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tconst keyName = event.key;\n\n\t\t\tif (this.isFocused && keyName == 'Escape')\n\t\t\t{\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tthis.$refs.input.blur();\n\t\t\t}\n\t\t});\n\t},\n\n\tmethods: {\n\t\t\n\t\thandleFocus()\n\t\t{\n\t\t\tthis.isFocused = true;\n\t\t\tthis.load();\n\t\t},\n\n\t\thandleBlur()\n\t\t{\n\t\t\tconst relatedTarget = event.relatedTarget || document.activeElement;\n\n\t\t\tif (relatedTarget)\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\trelatedTarget != this.$refs.dropdown && \n\t\t\t\t\t!this.$refs.dropdown.contains(relatedTarget)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.isFocused = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{   \n\t\t\t\tthis.isFocused = false;\n\t\t\t}\n\t\t},\n\n\t\thandleInput()\n\t\t{\n\t\t\tthis.$emit('input', this.query);\n\t\t\t\n\t\t\tif (this.query.length >= this.minLength)\n\t\t\t{\n\t\t\t\tthis.load(this.query);\n\t\t\t}\n\t\t},\n\n\t\tselect(suggestion)\n\t\t{\n\t\t\tthis.query = suggestion;\n\t\t\t\n\t\t\tthis.isFocused = false;\n\t\t\tthis.$refs.input.blur();\t\n\t\t},\n\n\t\tasync load(query)\n\t\t{\n\t\t\tthis.loadings.push(true);\n\t\t\t\n\t\t\tconst result = await this.loadSuggestions(query);\n\t\t\tthis.suggestions = result.data;\n\t\t\t\n\t\t\tthis.loadings.pop();\n\t\t},\n\n\t\tloadSuggestions(query)\n\t\t{\n\t\t\tconst data = {\n\t\t\t\taccountNumber: this.query\n\t\t\t};\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tBX.ajax.runAction(GET_ORDERS_ACTION_NAME, { data })\n\t\t\t\t\t.then(resolve, reject);\n\t\t\t});\n\t\t}\n\t},\n\n\twatch: \n\t{\n\t\tvalue()\n\t\t{\n\t\t\tthis.query = value;\n\t\t}\n\t}\n}\n</script>","import VueOrderSuggestions from './VueOrderSuggestions.vue';\n\nexport class OrderSuggestions\n{\n\tconstructor(el, options)\n\t{\n\t\tthis.$el = el;\n\t\tthis.options = options;\n\n\t\tthis.attachTemplate();\n\t}\n\n\tattachTemplate()\n\t{\n\t\tconst inputName = this.options.inputName || '';\n\t\tconst value = this.options.value || '';\n\n\t\tthis.template = new Vue({\n\t\t\tcomponents: { VueOrderSuggestions },\n\t\t\tel: this.$el,\n\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tinputName, \n\t\t\t\t\tvalue\n\t\t\t\t};\n\t\t\t},\n\n\t\t\ttemplate: `<VueOrderSuggestions :name=\"inputName\" :value=\"value\" />`\n\t\t});\n\t}\n}"],"names":["GET_ORDERS_ACTION_NAME","props","name","type","String","value","minLength","Number","placeholder","data","cursor","isFocused","loadings","query","suggestions","computed","isVisibleSuggestions","length","dropdownStyles","maxHeight","overflow","isLoading","Boolean","loadingClasses","mounted","clickOutside","event","$refs","input","document","activeElement","target","$el","contains","blur","addEventListener","keyName","key","methods","handleFocus","load","handleBlur","relatedTarget","dropdown","handleInput","$emit","select","suggestion","push","loadSuggestions","result","pop","accountNumber","Promise","resolve","reject","BX","ajax","runAction","then","watch","normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","renderWithStyleInjection","h","existing","beforeCreate","concat","normalizeComponent_1","OrderSuggestions","el","attachTemplate","inputName","Vue","components","VueOrderSuggestions"],"mappings":"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"}