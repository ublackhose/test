{"version":3,"file":"script.js","sources":["../../../../../../node_modules/insert-css/index.js","../../../../../../node_modules/simple-color-picker/dist/simple-color-picker.module.js","src/scripts/utils/hex2rgb.js","src/scripts/utils/rgb2hex.js","src/scripts/component.js"],"sourcesContent":["var containers = []; // will store container HTMLElement references\nvar styleElements = []; // will store {prepend: HTMLElement, append: HTMLElement}\n\nvar usage = 'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).';\n\nfunction insertCss(css, options) {\n    options = options || {};\n\n    if (css === undefined) {\n        throw new Error(usage);\n    }\n\n    var position = options.prepend === true ? 'prepend' : 'append';\n    var container = options.container !== undefined ? options.container : document.querySelector('head');\n    var containerId = containers.indexOf(container);\n\n    // first time we see this container, create the necessary entries\n    if (containerId === -1) {\n        containerId = containers.push(container) - 1;\n        styleElements[containerId] = {};\n    }\n\n    // try to get the correponding container + position styleElement, create it otherwise\n    var styleElement;\n\n    if (styleElements[containerId] !== undefined && styleElements[containerId][position] !== undefined) {\n        styleElement = styleElements[containerId][position];\n    } else {\n        styleElement = styleElements[containerId][position] = createStyleElement();\n\n        if (position === 'prepend') {\n            container.insertBefore(styleElement, container.childNodes[0]);\n        } else {\n            container.appendChild(styleElement);\n        }\n    }\n\n    // strip potential UTF-8 BOM if css was read from a file\n    if (css.charCodeAt(0) === 0xFEFF) { css = css.substr(1, css.length); }\n\n    // actually add the stylesheet\n    if (styleElement.styleSheet) {\n        styleElement.styleSheet.cssText += css\n    } else {\n        styleElement.textContent += css;\n    }\n\n    return styleElement;\n};\n\nfunction createStyleElement() {\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    return styleElement;\n}\n\nmodule.exports = insertCss;\nmodule.exports.insertCss = insertCss;\n","import{insertCss as t}from\"insert-css\";function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}function o(t){return\"number\"==typeof t&&!isNaN(t)}function s(t,e,i){return Math.min(Math.max(t,e),i)}function n(t){if(0===t.type.indexOf(\"touch\")){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}return{x:t.clientX,y:t.clientY}}function r(t){return 1==t.length?\"0\"+t:\"\"+t}var h=function(){function t(t){this._rgba={r:0,g:0,b:0,a:1},this._hsva={h:0,s:0,v:0,a:1},this.fromHex(t)}var e=t.prototype;return e.fromHex=function(t){t||(t=0),o(t)?(this._hexNumber=t,this._hexString=function(t){return\"#\"+(\"00000\"+(0|t).toString(16)).substr(-6).toUpperCase()}(this._hexNumber)):(this._hexString=t.toUpperCase(),this._hexNumber=u(this._hexString));var e=function(t){return{r:(t>>16&255)/255,g:(t>>8&255)/255,b:(255&t)/255}}(this._hexNumber),i=e.g,s=e.b;this._rgba.r=e.r,this._rgba.g=i,this._rgba.b=s;var n=function(t){var e,i=t.r,o=t.g,s=t.b,n=Math.max(i,o,s),r=Math.min(i,o,s),h=n-r,u=0===n?0:h/n,a=n;if(n==r)e=0;else{switch(n){case i:e=(o-s)/h+(o<s?6:0);break;case o:e=(s-i)/h+2;break;case s:e=(i-o)/h+4}e/=6}return{h:e,s:u,v:a}}(this._rgba),r=n.s,h=n.v;this._hsva.h=n.h,this._hsva.s=r,this._hsva.v=h,this._updateBrightness()},e.fromHsv=function(t){var e=t.s,i=t.v;this._hsva.h=t.h,this._hsva.s=e,this._hsva.v=i;var o=function(t){var e=t.h,i=t.s,o=t.v;e*=6;var s=Math.floor(e),n=e-s,r=o*(1-i),h=o*(1-n*i),u=o*(1-(1-n)*i),a=s%6;return{r:[o,h,r,r,u,o][a],g:[u,o,o,h,r,r][a],b:[r,r,u,o,o,h][a]}}(this._hsva),s=o.g,n=o.b;this._rgba.r=o.r,this._rgba.g=s,this._rgba.b=n,this._hexString=function(t){var e=t.g,i=t.b;return[\"#\",r(Math.round(255*t.r).toString(16)),r(Math.round(255*e).toString(16)),r(Math.round(255*i).toString(16))].join(\"\").toUpperCase()}(this._rgba),this._hexNumber=u(this._hexString),this._updateBrightness()},e._updateBrightness=function(){var t=this._rgba;this._brightness=(299*t.r+587*t.g+114*t.b)/1e3,this._isDark=this._brightness<.5,this._isLight=!this._isDark},i(t,[{key:\"rgb\",get:function(){return this._rgba}},{key:\"hsv\",get:function(){return this._hsva}},{key:\"hex\",get:function(){return this._hexNumber}},{key:\"hexString\",get:function(){return this._hexString}},{key:\"brightness\",get:function(){return this._brightness}},{key:\"isDark\",get:function(){return this._isDark}},{key:\"isLight\",get:function(){return this._isLight}}]),t}();function u(t){return parseInt(t.replace(\"#\",\"\"),16)}var a=function(){function t(t){var e=this;void 0===t&&(t={}),this._widthUnits=\"px\",this._heightUnits=\"px\",this._huePosition=0,this._hueHeight=0,this._maxHue=0,this._inputIsNumber=!1,this._saturationWidth=0,this._isChoosing=!1,this._callbacks=[],this.width=0,this.height=0,this.hue=0,this.position={x:0,y:0},this.color=new h(0),this.backgroundColor=new h(0),this.hueColor=new h(0),this._onSaturationMouseDown=function(t){var i=e.$saturation.getBoundingClientRect(),o=n(t),s=o.x,r=o.y;e._isChoosing=!0,e._moveSelectorTo(s-i.left,r-i.top),e._updateColorFromPosition(),e._window.addEventListener(\"mouseup\",e._onSaturationMouseUp),e._window.addEventListener(\"touchend\",e._onSaturationMouseUp),e._window.addEventListener(\"mousemove\",e._onSaturationMouseMove),e._window.addEventListener(\"touchmove\",e._onSaturationMouseMove),t.preventDefault()},this._onSaturationMouseMove=function(t){var i=e.$saturation.getBoundingClientRect(),o=n(t);e._moveSelectorTo(o.x-i.left,o.y-i.top),e._updateColorFromPosition()},this._onSaturationMouseUp=function(){e._isChoosing=!1,e._window.removeEventListener(\"mouseup\",e._onSaturationMouseUp),e._window.removeEventListener(\"touchend\",e._onSaturationMouseUp),e._window.removeEventListener(\"mousemove\",e._onSaturationMouseMove),e._window.removeEventListener(\"touchmove\",e._onSaturationMouseMove)},this._onHueMouseDown=function(t){var i=e.$hue.getBoundingClientRect(),o=n(t).y;e._isChoosing=!0,e._moveHueTo(o-i.top),e._updateHueFromPosition(),e._window.addEventListener(\"mouseup\",e._onHueMouseUp),e._window.addEventListener(\"touchend\",e._onHueMouseUp),e._window.addEventListener(\"mousemove\",e._onHueMouseMove),e._window.addEventListener(\"touchmove\",e._onHueMouseMove),t.preventDefault()},this._onHueMouseMove=function(t){var i=e.$hue.getBoundingClientRect(),o=n(t);e._moveHueTo(o.y-i.top),e._updateHueFromPosition()},this._onHueMouseUp=function(){e._isChoosing=!1,e._window.removeEventListener(\"mouseup\",e._onHueMouseUp),e._window.removeEventListener(\"touchend\",e._onHueMouseUp),e._window.removeEventListener(\"mousemove\",e._onHueMouseMove),e._window.removeEventListener(\"touchmove\",e._onHueMouseMove)},this._window=t.window||window,this._document=this._window.document,this.$el=this._document.createElement(\"div\"),this.$el.className=\"Scp\",this.$el.innerHTML='\\n      <div class=\"Scp-saturation\">\\n        <div class=\"Scp-brightness\"></div>\\n        <div class=\"Scp-sbSelector\"></div>\\n      </div>\\n      <div class=\"Scp-hue\">\\n        <div class=\"Scp-hSelector\"></div>\\n      </div>\\n    ',this.$saturation=this.$el.querySelector(\".Scp-saturation\"),this.$hue=this.$el.querySelector(\".Scp-hue\"),this.$sbSelector=this.$el.querySelector(\".Scp-sbSelector\"),this.$hSelector=this.$el.querySelector(\".Scp-hSelector\"),this.$saturation.addEventListener(\"mousedown\",this._onSaturationMouseDown),this.$saturation.addEventListener(\"touchstart\",this._onSaturationMouseDown),this.$hue.addEventListener(\"mousedown\",this._onHueMouseDown),this.$hue.addEventListener(\"touchstart\",this._onHueMouseDown),t.el&&this.appendTo(t.el),t.background&&this.setBackgroundColor(t.background),t.widthUnits&&(this._widthUnits=t.widthUnits),t.heightUnits&&(this._heightUnits=t.heightUnits),this.setSize(t.width||175,t.height||150),this.setColor(t.color)}var e=t.prototype;return e.appendTo=function(t){return\"string\"==typeof t?document.querySelector(t).appendChild(this.$el):t.appendChild(this.$el),this},e.remove=function(){this._callbacks=[],this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener(\"mousedown\",this._onSaturationMouseDown),this.$saturation.removeEventListener(\"touchstart\",this._onSaturationMouseDown),this.$hue.removeEventListener(\"mousedown\",this._onHueMouseDown),this.$hue.removeEventListener(\"touchstart\",this._onHueMouseDown),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},e.setColor=function(t){this._inputIsNumber=o(t),this.color.fromHex(t);var e=this.color.hsv,i=e.h,s=e.s,n=e.v;return isNaN(i)||(this.hue=i),this._moveSelectorTo(this._saturationWidth*s,(1-n)*this._hueHeight),this._moveHueTo((1-this.hue)*this._hueHeight),this._updateHue(),this},e.setSize=function(t,e){return this.width=t,this.height=e,this.$el.style.width=this.width+this._widthUnits,this.$el.style.height=this.height+this._heightUnits,this._saturationWidth=this.width-25,this.$saturation.style.width=this._saturationWidth+\"px\",this._hueHeight=this.height,this._maxHue=this._hueHeight-2,this},e.setBackgroundColor=function(t){return this.backgroundColor.fromHex(t),this.$el.style.padding=\"5px\",this.$el.style.background=this.backgroundColor.hexString,this},e.setNoBackground=function(){return this.$el.style.padding=\"0px\",this.$el.style.background=\"none\",this},e.onChange=function(t){return this._callbacks.indexOf(t)<0&&(this._callbacks.push(t),t(this.getHexString())),this},e.getColor=function(){return this._inputIsNumber?this.getHexNumber():this.getHexString()},e.getHexString=function(){return this.color.hexString.toUpperCase()},e.getHexNumber=function(){return this.color.hex},e.getRGB=function(){return this.color.rgb},e.getHSV=function(){return this.color.hsv},e.isDark=function(){return this.color.isDark},e.isLight=function(){return this.color.isLight},e._moveSelectorTo=function(t,e){this.position.x=s(t,0,this._saturationWidth),this.position.y=s(e,0,this._hueHeight),this.$sbSelector.style.transform=\"translate(\"+this.position.x+\"px, \"+this.position.y+\"px)\"},e._updateColorFromPosition=function(){this.color.fromHsv({h:this.hue,s:this.position.x/this._saturationWidth,v:1-this.position.y/this._hueHeight}),this._updateColor()},e._moveHueTo=function(t){this._huePosition=s(t,0,this._maxHue),this.$hSelector.style.transform=\"translateY(\"+this._huePosition+\"px)\"},e._updateHueFromPosition=function(){var t=this.getHSV();this.hue=1-this._huePosition/this._maxHue,this.color.fromHsv({h:this.hue,s:t.s,v:t.v}),this._updateHue()},e._updateHue=function(){this.hueColor.fromHsv({h:this.hue,s:1,v:1}),this.$saturation.style.background=\"linear-gradient(to right, #fff, \"+this.hueColor.hexString+\")\",this._updateColor()},e._updateColor=function(){this.$sbSelector.style.background=this.getHexString(),this.$sbSelector.style.borderColor=this.isDark()?\"#fff\":\"#000\",this._triggerChange()},e._triggerChange=function(){var t=this;this._callbacks.forEach(function(e){return e(t.getHexString())})},i(t,[{key:\"isChoosing\",get:function(){return this._isChoosing}}]),t}();t(\".Scp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.Scp-saturation{position:relative;height:100%;background:linear-gradient(90deg,#fff,red);float:left;margin-right:5px}.Scp-brightness{width:100%;height:100%;background:linear-gradient(hsla(0,0%,100%,0),#000)}.Scp-sbSelector{border:2px solid #fff;position:absolute;width:14px;height:14px;background:#fff;border-radius:10px;top:-7px;left:-7px;box-sizing:border-box;z-index:10}.Scp-hue{width:20px;height:100%;position:relative;float:left;background:linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red)}.Scp-hSelector{position:absolute;background:#fff;border-bottom:1px solid #000;right:-3px;width:10px;height:2px}\");export default a;\n//# sourceMappingURL=simple-color-picker.module.js.map\n","export default (color) =>\n{\n\tif (!color)\n\t\tthrow new Error('Incorrected value');\n\t\n\tcolor = color.replace('#', '');\n\n\tif (color.length == 3)\n\t\tcolor = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n\telse if (color.length != 6)\n\t\tthrow new Error('Incorrected value');\n\n\treturn {\n\t\tr: parseInt(color[0] + color[1], 16),\n\t\tg: parseInt(color[2] + color[3], 16),\n\t\tb: parseInt(color[4] + color[5], 16),\n\t};\n};","\nexport default (r, g, b) =>\n{\n\treturn ((1 << 24) + (parseInt(r, 10) << 16) + (parseInt(g, 10) << 8) + parseInt(b, 10)).toString(16).slice(1);\n};","import '../styles/component.scss';\n\nimport ColorPicker from 'simple-color-picker';\nimport hex2rgb from './utils/hex2rgb';\nimport rgb2hex from './utils/rgb2hex';\n\nconst DEFAULT = {\n\tcontainerId: 'colorPickerId',\n\tcolor: 'FFFFFF',\n};\n\n\nexport class RedsignTuningOptionColor {\n\n\toptions = {}\n\n\tcontainer = null;\n\tcolorPickerNode = null;\n\tfieldRed = null;\n\tfieldGreen = null;\n\tfieldBlue = null;\n\tfieldHex = null;\n\n\tcolorPicker = null;\n\tvariants = [];\n\tsets = [];\n\n\t#activeSet = null;\n\t#activeVariant = null;\n\t#activeColor = '';\n\n\tget activeSet()\n\t{\n\t\treturn this.#activeSet;\n\t}\n\n\tset activeSet(set)\n\t{\n\t\tif (this.#activeSet == set)\n\t\t\treturn;\n\n\t\tthis.sets.forEach(item => item.classList.remove('active'));\n\t\tif (!this.sets.includes(set))\n\t\t{\n\t\t\tthis.#activeSet.classList.remove('active');\n\t\t\tthis.#activeSet = null;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#activeSet = set;\n\n\t\tset.classList.add('active');\n\n\t\tconst setScheme = JSON.parse(set.getAttribute('data-value'));\n\t\tconst keys = Object.keys(setScheme);\n\n\t\tlet activeVariant = null;\n\t\tfor (let index in this.variants)\n\t\t{\n\t\t\tlet variant = this.variants[index];\n\t\t\tlet variantKey = variant.getAttribute('data-valkey');\n\n\t\t\tif (!keys.includes(variantKey))\n\t\t\t{\n\t\t\t\tvariant.style.display = 'none';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvariant.style.display = '';\n\t\t\tthis.setVariantColor(variant, setScheme[variantKey]);\n\n\t\t\tif (keys[0] == variantKey)\n\t\t\t{\n\t\t\t\tactiveVariant = variant;\n\t\t\t}\n\t\t}\n\n\t\tif (activeVariant)\n\t\t{\n\t\t\tthis.activeVariant = activeVariant;\n\t\t}\n\t}\n\n\tget activeVariant()\n\t{\n\t\treturn this.#activeVariant;\n\t}\n\n\tset activeVariant(variant)\n\t{\n\t\tif (this.#activeVariant == variant)\n\t\t{\n\t\t\tthis.activeColor = variant.querySelector('input').value;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.variants.forEach(item => item.classList.remove('active'));\n\n\t\tif (!this.variants.includes(variant))\n\t\t\tthrow new Error('Incorrected value');\n\n\t\tthis.#activeVariant = variant;\n\n\t\tvariant.classList.add('active');\n\n\t\tthis.activeColor = variant.querySelector('input').value;\n\t}\n\n\tget activeColor()\n\t{\n\t\treturn this.#activeColor;\n\t}\n\n\tset activeColor(color)\n\t{\n\t\ttry\n\t\t{\n\t\t\tcolor = color.replace('#', '');\n\n\t\t\tif (this.#activeColor == color)\n\t\t\t\treturn;\n\n\t\t\tthis.#activeColor = color;\n\n\t\t\tthis.setColorFields(color);\n\t\t\tthis.setVariantColor(this.activeVariant, color);\n\n\t\t\tif (this.colorPicker)\n\t\t\t\tthis.colorPicker.setColor(color);\n\n\t\t\tconst activeScheme = JSON.stringify(this.getActiveScheme()).toUpperCase();\n\t\t\tlet count = 0;\n\t\t\tfor (let index in this.sets)\n\t\t\t{\n\t\t\t\tconst setScheme = this.sets[index].getAttribute('data-value').toUpperCase();\n\t\t\t\t\tif (activeScheme == setScheme)\n\t\t\t\t{\n\t\t\t\t\tthis.activeSet = this.sets[index];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (count == this.sets.length)\n\t\t\t{\n\t\t\t\tthis.activeSet = null;\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tconsole.error(e.message);\n\t\t}\n\t}\n\n\tconstructor(options = {})\n\t{\n\t\tthis.options = {...DEFAULT, ...options};\n\n\t\tdocument.addEventListener(\"DOMContentLoaded\", this.init.bind(this));\n\t}\n\n\tinit()\n\t{\n\t\tthis.container = document.getElementById(this.options.containerId);\n\n\t\tif (!this.container)\n\t\t\treturn;\n\n\t\tthis.colorPickerNode = this.container.querySelector('[data-entity=\"colorpicker\"]');\n\t\tthis.fieldRed = this.container.querySelector('[data-entity=\"field-red\"]');\n\t\tthis.fieldGreen = this.container.querySelector('[data-entity=\"field-green\"]');\n\t\tthis.fieldBlue = this.container.querySelector('[data-entity=\"field-blue\"]');\n\t\tthis.fieldHex = this.container.querySelector('[data-entity=\"field-hex\"]');\n\n\t\tthis.sets = [...this.container.querySelectorAll('[data-entity=\"set-item\"]')];\n\t\tthis.variants = [...this.container.querySelectorAll('[data-entity=\"variant\"]')];\n\n\t\tconst activeSet = this.sets.filter(set => set.classList.contains('active'))[0];\n\t\tif (activeSet)\n\t\t\tthis.activeSet = activeSet;\n\t\telse\n\t\t{\n\t\t\tthis.activeVariant = this.variants.filter(variant => variant.classList.contains('active'))[0];\n\t\t}\n\n\t\tif (this.variants)\n\t\t{\n\t\t\tthis.variants.forEach(item => {\n\t\t\t\titem.addEventListener(\n\t\t\t\t\t'click',\n\t\t\t\t\t({ currentTarget }) => {\n\t\t\t\t\t\tthis.activeVariant = currentTarget;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tif (this.sets)\n\t\t{\n\t\t\tthis.sets.forEach(item => {\n\t\t\t\titem.addEventListener(\n\t\t\t\t\t'click',\n\t\t\t\t\t({ currentTarget }) => {\n\t\t\t\t\t\tthis.activeSet = currentTarget;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tif (this.fieldHex)\n\t\t{\n\t\t\t['blur', 'input'].forEach(\n\t\t\t\tevent => this.fieldHex.addEventListener(\n\t\t\t\t\tevent,\n\t\t\t\t\tBX.debounce(({ target }) => {\n\t\t\t\t\t\tthis.activeColor = target.value;\n\t\t\t\t\t}, 500)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\n\t\t[this.fieldRed, this.fieldGreen, this.fieldBlue].forEach(\n\t\t\tfield => {\n\n\t\t\t\tif (!field) return;\n\n\t\t\t\t['blur', 'input'].forEach(\n\t\t\t\t\tevent => field.addEventListener(\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\tBX.debounce(() => {\n\t\t\t\t\t\t\tthis.activeColor = rgb2hex(\n\t\t\t\t\t\t\t\tthis.fieldRed.value,\n\t\t\t\t\t\t\t\tthis.fieldGreen.value,\n\t\t\t\t\t\t\t\tthis.fieldBlue.value\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 500)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\t\tif (this.fieldHex)\n\t\t{\n\t\t\t['blur', 'keyup'].forEach(\n\t\t\t\tevent => this.fieldHex.addEventListener(\n\t\t\t\t\tevent,\n\t\t\t\t\tBX.debounce(({ target }) => {\n\t\t\t\t\t\tthis.activeColor = target.value;\n\t\t\t\t\t}, 500)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tif (this.colorPickerNode)\n\t\t{\n\t\t\tthis.colorPicker = new ColorPicker({\n\t\t\t\tel: this.colorPickerNode,\n\t\t\t\tcolor: this.options.color,\n\t\t\t})\n\n\t\t\tif (this.colorPicker)\n\t\t\t{\n\t\t\t\tthis.setColorPickerSize();\n\t\t\t\tthis.colorPicker.onChange(() =>{\n\t\t\t\t\tconst hex = this.colorPicker.getHexString();\n\t\t\t\t\tthis.activeColor = hex;\n\t\t\t\t});\n\n\t\t\t\twindow.addEventListener('resize', BX.debounce(() => {\n\t\t\t\t\tthis.setColorPickerSize();\n\t\t\t\t}, 200));\n\t\t\t}\n\t\t}\n\n\t\tif (!this.isVisible())\n\t\t\tBX.addCustomEvent('rs.tuning.tabs.after.change', this.setColorPickerSize.bind(this));\n\t}\n\n\tsetColorPickerSize()\n\t{\n\t\tif (!this.colorPicker)\n\t\t\treturn;\n\n\t\tconst style = getComputedStyle(this.colorPickerNode);\n\n\t\tconst height = parseInt(style.height, 10);\n\t\tconst width = parseInt(style.width, 10);\n\n\t\tthis.colorPicker.setSize(width, height);\n\n\t\t// fix selector position\n\t\tthis.colorPicker.setColor(this.colorPicker.getHexString());\n\t}\n\n\tsetColorFields(hex)\n\t{\n\t\tconst rgb = hex2rgb(hex);\n\n\t\tif (this.fieldRed)\n\t\t\tthis.fieldRed.value = Math.round(rgb.r);\n\n\t\tif (this.fieldGreen)\n\t\t\tthis.fieldGreen.value = Math.round(rgb.g);\n\n\t\tif (this.fieldBlue)\n\t\t\tthis.fieldBlue.value = Math.round(rgb.b);\n\n\t\tif (this.fieldHex)\n\t\t\tthis.fieldHex.value = hex.replace('#', '');\n\t}\n\n\tisVisible()\n\t{\n\t\treturn (this.container.offsetParent !== null);\n\t}\n\n\tsetVariantColor(variant, hex)\n\t{\n\t\tconst input = variant.querySelector('input');\n\t\tif (input)\n\t\t{\n\t\t\tinput.value = hex;\n\t\t\tinput.dispatchEvent(new Event('change'));\n\t\t}\n\n\t\tconst paint = variant.querySelector('[data-entity=\"variant-paint\"]');\n\t\tif (paint)\n\t\t\tpaint.style.backgroundColor = '#' + hex;\n\t}\n\n\tgetActiveScheme()\n\t{\n\t\tconst scheme = {};\n\n\t\tfor (let index in this.variants)\n\t\t{\n\t\t\tscheme[this.variants[index].getAttribute('data-valkey')] = this.variants[index].querySelector('input').value;\n\t\t}\n\n\t\treturn scheme;\n\t}\n}\n"],"names":["containers","styleElements","usage","insertCss","css","options","undefined","Error","position","prepend","container","document","querySelector","containerId","indexOf","push","styleElement","createStyleElement","insertBefore","childNodes","appendChild","charCodeAt","substr","length","styleSheet","cssText","textContent","createElement","setAttribute","module","e","t","i","o","enumerable","configurable","writable","Object","defineProperty","key","prototype","isNaN","s","Math","min","max","n","type","touches","x","clientX","y","clientY","r","h","_rgba","g","b","a","_hsva","v","fromHex","_hexNumber","_hexString","toString","toUpperCase","u","_updateBrightness","fromHsv","floor","round","join","_brightness","_isDark","_isLight","get","parseInt","replace","_widthUnits","_heightUnits","_huePosition","_hueHeight","_maxHue","_inputIsNumber","_saturationWidth","_isChoosing","_callbacks","width","height","hue","color","backgroundColor","hueColor","_onSaturationMouseDown","$saturation","getBoundingClientRect","_moveSelectorTo","left","top","_updateColorFromPosition","_window","addEventListener","_onSaturationMouseUp","_onSaturationMouseMove","preventDefault","removeEventListener","_onHueMouseDown","$hue","_moveHueTo","_updateHueFromPosition","_onHueMouseUp","_onHueMouseMove","window","_document","$el","className","innerHTML","$sbSelector","$hSelector","el","appendTo","background","setBackgroundColor","widthUnits","heightUnits","setSize","setColor","remove","parentNode","removeChild","hsv","_updateHue","style","padding","hexString","setNoBackground","onChange","getHexString","getColor","getHexNumber","hex","getRGB","rgb","getHSV","isDark","isLight","transform","_updateColor","borderColor","_triggerChange","forEach","slice","DEFAULT","RedsignTuningOptionColor","set","sets","item","classList","includes","add","setScheme","JSON","parse","getAttribute","keys","activeVariant","index","variants","variant","variantKey","display","setVariantColor","activeColor","value","setColorFields","colorPicker","activeScheme","stringify","getActiveScheme","count","activeSet","console","error","message","init","bind","getElementById","colorPickerNode","fieldRed","fieldGreen","fieldBlue","fieldHex","querySelectorAll","filter","contains","currentTarget","event","BX","debounce","target","field","rgb2hex","ColorPicker","setColorPickerSize","isVisible","addCustomEvent","getComputedStyle","hex2rgb","offsetParent","input","dispatchEvent","Event","paint","scheme"],"mappings":";;;CAAA,IAAIA,UAAU,GAAG,EAAjB;;CACA,IAAIC,aAAa,GAAG,EAApB;;CAEA,IAAIC,KAAK,GAAG,uFAAZ;;CAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,OAAxB,EAAiC;GAC7BA,OAAO,GAAGA,OAAO,IAAI,EAArB;;GAEA,IAAID,GAAG,KAAKE,SAAZ,EAAuB;KACnB,MAAM,IAAIC,KAAJ,CAAUL,KAAV,CAAN;;;GAGJ,IAAIM,QAAQ,GAAGH,OAAO,CAACI,OAAR,KAAoB,IAApB,GAA2B,SAA3B,GAAuC,QAAtD;GACA,IAAIC,SAAS,GAAGL,OAAO,CAACK,SAAR,KAAsBJ,SAAtB,GAAkCD,OAAO,CAACK,SAA1C,GAAsDC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAtE;GACA,IAAIC,WAAW,GAAGb,UAAU,CAACc,OAAX,CAAmBJ,SAAnB,CAAlB,CAT6B;;GAY7B,IAAIG,WAAW,KAAK,CAAC,CAArB,EAAwB;KACpBA,WAAW,GAAGb,UAAU,CAACe,IAAX,CAAgBL,SAAhB,IAA6B,CAA3C;KACAT,aAAa,CAACY,WAAD,CAAb,GAA6B,EAA7B;IAdyB;;;GAkB7B,IAAIG,YAAJ;;GAEA,IAAIf,aAAa,CAACY,WAAD,CAAb,KAA+BP,SAA/B,IAA4CL,aAAa,CAACY,WAAD,CAAb,CAA2BL,QAA3B,MAAyCF,SAAzF,EAAoG;KAChGU,YAAY,GAAGf,aAAa,CAACY,WAAD,CAAb,CAA2BL,QAA3B,CAAf;IADJ,MAEO;KACHQ,YAAY,GAAGf,aAAa,CAACY,WAAD,CAAb,CAA2BL,QAA3B,IAAuCS,kBAAkB,EAAxE;;KAEA,IAAIT,QAAQ,KAAK,SAAjB,EAA4B;OACxBE,SAAS,CAACQ,YAAV,CAAuBF,YAAvB,EAAqCN,SAAS,CAACS,UAAV,CAAqB,CAArB,CAArC;MADJ,MAEO;OACHT,SAAS,CAACU,WAAV,CAAsBJ,YAAtB;;IA5BqB;;;GAiC7B,IAAIZ,GAAG,CAACiB,UAAJ,CAAe,CAAf,MAAsB,MAA1B,EAAkC;KAAEjB,GAAG,GAAGA,GAAG,CAACkB,MAAJ,CAAW,CAAX,EAAclB,GAAG,CAACmB,MAAlB,CAAN;IAjCP;;;GAoC7B,IAAIP,YAAY,CAACQ,UAAjB,EAA6B;KACzBR,YAAY,CAACQ,UAAb,CAAwBC,OAAxB,IAAmCrB,GAAnC;IADJ,MAEO;KACHY,YAAY,CAACU,WAAb,IAA4BtB,GAA5B;;;GAGJ,OAAOY,YAAP;CACH;;CAED,SAASC,kBAAT,GAA8B;GAC1B,IAAID,YAAY,GAAGL,QAAQ,CAACgB,aAAT,CAAuB,OAAvB,CAAnB;GACAX,YAAY,CAACY,YAAb,CAA0B,MAA1B,EAAkC,UAAlC;GACA,OAAOZ,YAAP;CACH;;CAEDa;CACAA,eAAe1B,YAAYA;;;CCzDY,SAAS2B,CAAT,CAAWC,CAAX,EAAaD,CAAb,EAAe;GAAC,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,CAAC,CAACP,MAAhB,EAAuBS,CAAC,EAAxB,EAA2B;KAAC,IAAIC,CAAC,GAACH,CAAC,CAACE,CAAD,CAAP;KAAWC,CAAC,CAACC,UAAF,GAAaD,CAAC,CAACC,UAAF,IAAc,CAAC,CAA5B,EAA8BD,CAAC,CAACE,YAAF,GAAe,CAAC,CAA9C,EAAgD,WAAUF,CAAV,KAAcA,CAAC,CAACG,QAAF,GAAW,CAAC,CAA1B,CAAhD,EAA6EC,MAAM,CAACC,cAAP,CAAsBP,CAAtB,EAAwBE,CAAC,CAACM,GAA1B,EAA8BN,CAA9B,CAA7E;;CAA+G;;CAAA,SAASD,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;GAAC,OAAOD,CAAC,IAAEF,CAAC,CAACC,CAAC,CAACS,SAAH,EAAaR,CAAb,CAAJ,EAAoBC,CAAC,IAAEH,CAAC,CAACC,CAAD,EAAGE,CAAH,CAAxB,EAA8BF,CAArC;CAAuC;;CAAA,SAASE,CAAT,CAAWF,CAAX,EAAa;GAAC,OAAM,YAAU,OAAOA,CAAjB,IAAoB,CAACU,KAAK,CAACV,CAAD,CAAhC;CAAoC;;CAAA,SAASW,CAAT,CAAWX,CAAX,EAAaD,CAAb,EAAeE,CAAf,EAAiB;GAAC,OAAOW,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASd,CAAT,EAAWD,CAAX,CAAT,EAAuBE,CAAvB,CAAP;CAAiC;;CAAA,SAASc,CAAT,CAAWf,CAAX,EAAa;GAAC,IAAG,MAAIA,CAAC,CAACgB,IAAF,CAAOjC,OAAP,CAAe,OAAf,CAAP,EAA+B;KAAC,IAAIgB,CAAC,GAACC,CAAC,CAACiB,OAAF,CAAU,CAAV,CAAN;KAAmB,OAAM;OAACC,CAAC,EAACnB,CAAC,CAACoB,OAAL;OAAaC,CAAC,EAACrB,CAAC,CAACsB;MAAvB;;;GAAgC,OAAM;KAACH,CAAC,EAAClB,CAAC,CAACmB,OAAL;KAAaC,CAAC,EAACpB,CAAC,CAACqB;IAAvB;CAAgC;;CAAA,SAASC,CAAT,CAAWtB,CAAX,EAAa;GAAC,OAAO,KAAGA,CAAC,CAACR,MAAL,GAAY,MAAIQ,CAAhB,GAAkB,KAAGA,CAA5B;CAA8B;;CAAA,IAAIuB,CAAC,GAAC,YAAU;GAAC,SAASvB,CAAT,CAAWA,CAAX,EAAa;KAAC,KAAKwB,KAAL,GAAW;OAACF,CAAC,EAAC,CAAH;OAAKG,CAAC,EAAC,CAAP;OAASC,CAAC,EAAC,CAAX;OAAaC,CAAC,EAAC;MAA1B,EAA6B,KAAKC,KAAL,GAAW;OAACL,CAAC,EAAC,CAAH;OAAKZ,CAAC,EAAC,CAAP;OAASkB,CAAC,EAAC,CAAX;OAAaF,CAAC,EAAC;MAAvD,EAA0D,KAAKG,OAAL,CAAa9B,CAAb,CAA1D;;;GAA0E,IAAID,CAAC,GAACC,CAAC,CAACS,SAAR;GAAkB,OAAOV,CAAC,CAAC+B,OAAF,GAAU,UAAS9B,CAAT,EAAW;KAACA,CAAC,KAAGA,CAAC,GAAC,CAAL,CAAD,EAASE,CAAC,CAACF,CAAD,CAAD,IAAM,KAAK+B,UAAL,GAAgB/B,CAAhB,EAAkB,KAAKgC,UAAL,GAAgB,UAAShC,CAAT,EAAW;OAAC,OAAM,MAAI,CAAC,UAAQ,CAAC,IAAEA,CAAH,EAAMiC,QAAN,CAAe,EAAf,CAAT,EAA6B1C,MAA7B,CAAoC,CAAC,CAArC,EAAwC2C,WAAxC,EAAV;MAAZ,CAA6E,KAAKH,UAAlF,CAAxC,KAAwI,KAAKC,UAAL,GAAgBhC,CAAC,CAACkC,WAAF,EAAhB,EAAgC,KAAKH,UAAL,GAAgBI,CAAC,CAAC,KAAKH,UAAN,CAAzL,CAAT;;KAAqN,IAAIjC,CAAC,GAAC,UAASC,CAAT,EAAW;OAAC,OAAM;SAACsB,CAAC,EAAC,CAACtB,CAAC,IAAE,EAAH,GAAM,GAAP,IAAY,GAAf;SAAmByB,CAAC,EAAC,CAACzB,CAAC,IAAE,CAAH,GAAK,GAAN,IAAW,GAAhC;SAAoC0B,CAAC,EAAC,CAAC,MAAI1B,CAAL,IAAQ;QAApD;MAAZ,CAAsE,KAAK+B,UAA3E,CAAN;SAA6F9B,CAAC,GAACF,CAAC,CAAC0B,CAAjG;SAAmGd,CAAC,GAACZ,CAAC,CAAC2B,CAAvG;;KAAyG,KAAKF,KAAL,CAAWF,CAAX,GAAavB,CAAC,CAACuB,CAAf,EAAiB,KAAKE,KAAL,CAAWC,CAAX,GAAaxB,CAA9B,EAAgC,KAAKuB,KAAL,CAAWE,CAAX,GAAaf,CAA7C;;KAA+C,IAAII,CAAC,GAAC,UAASf,CAAT,EAAW;OAAC,IAAID,CAAJ;WAAME,CAAC,GAACD,CAAC,CAACsB,CAAV;WAAYpB,CAAC,GAACF,CAAC,CAACyB,CAAhB;WAAkBd,CAAC,GAACX,CAAC,CAAC0B,CAAtB;WAAwBX,CAAC,GAACH,IAAI,CAACE,GAAL,CAASb,CAAT,EAAWC,CAAX,EAAaS,CAAb,CAA1B;WAA0CW,CAAC,GAACV,IAAI,CAACC,GAAL,CAASZ,CAAT,EAAWC,CAAX,EAAaS,CAAb,CAA5C;WAA4DY,CAAC,GAACR,CAAC,GAACO,CAAhE;WAAkEa,CAAC,GAAC,MAAIpB,CAAJ,GAAM,CAAN,GAAQQ,CAAC,GAACR,CAA9E;WAAgFY,CAAC,GAACZ,CAAlF;OAAoF,IAAGA,CAAC,IAAEO,CAAN,EAAQvB,CAAC,GAAC,CAAF,CAAR,KAAgB;SAAC,QAAOgB,CAAP;WAAU,KAAKd,CAAL;aAAOF,CAAC,GAAC,CAACG,CAAC,GAACS,CAAH,IAAMY,CAAN,IAASrB,CAAC,GAACS,CAAF,GAAI,CAAJ,GAAM,CAAf,CAAF;aAAoB;;WAAM,KAAKT,CAAL;aAAOH,CAAC,GAAC,CAACY,CAAC,GAACV,CAAH,IAAMsB,CAAN,GAAQ,CAAV;aAAY;;WAAM,KAAKZ,CAAL;aAAOZ,CAAC,GAAC,CAACE,CAAC,GAACC,CAAH,IAAMqB,CAAN,GAAQ,CAAV;;;SAAYxB,CAAC,IAAE,CAAH;;OAAK,OAAM;SAACwB,CAAC,EAACxB,CAAH;SAAKY,CAAC,EAACwB,CAAP;SAASN,CAAC,EAACF;QAAjB;MAA7M,CAAkO,KAAKH,KAAvO,CAAN;SAAoPF,CAAC,GAACP,CAAC,CAACJ,CAAxP;SAA0PY,CAAC,GAACR,CAAC,CAACc,CAA9P;;KAAgQ,KAAKD,KAAL,CAAWL,CAAX,GAAaR,CAAC,CAACQ,CAAf,EAAiB,KAAKK,KAAL,CAAWjB,CAAX,GAAaW,CAA9B,EAAgC,KAAKM,KAAL,CAAWC,CAAX,GAAaN,CAA7C,EAA+C,KAAKa,iBAAL,EAA/C;IAAnoB,EAA4sBrC,CAAC,CAACsC,OAAF,GAAU,UAASrC,CAAT,EAAW;KAAC,IAAID,CAAC,GAACC,CAAC,CAACW,CAAR;SAAUV,CAAC,GAACD,CAAC,CAAC6B,CAAd;KAAgB,KAAKD,KAAL,CAAWL,CAAX,GAAavB,CAAC,CAACuB,CAAf,EAAiB,KAAKK,KAAL,CAAWjB,CAAX,GAAaZ,CAA9B,EAAgC,KAAK6B,KAAL,CAAWC,CAAX,GAAa5B,CAA7C;;KAA+C,IAAIC,CAAC,GAAC,UAASF,CAAT,EAAW;OAAC,IAAID,CAAC,GAACC,CAAC,CAACuB,CAAR;WAAUtB,CAAC,GAACD,CAAC,CAACW,CAAd;WAAgBT,CAAC,GAACF,CAAC,CAAC6B,CAApB;OAAsB9B,CAAC,IAAE,CAAH;OAAK,IAAIY,CAAC,GAACC,IAAI,CAAC0B,KAAL,CAAWvC,CAAX,CAAN;WAAoBgB,CAAC,GAAChB,CAAC,GAACY,CAAxB;WAA0BW,CAAC,GAACpB,CAAC,IAAE,IAAED,CAAJ,CAA7B;WAAoCsB,CAAC,GAACrB,CAAC,IAAE,IAAEa,CAAC,GAACd,CAAN,CAAvC;WAAgDkC,CAAC,GAACjC,CAAC,IAAE,IAAE,CAAC,IAAEa,CAAH,IAAMd,CAAV,CAAnD;WAAgE0B,CAAC,GAAChB,CAAC,GAAC,CAApE;OAAsE,OAAM;SAACW,CAAC,EAAC,CAACpB,CAAD,EAAGqB,CAAH,EAAKD,CAAL,EAAOA,CAAP,EAASa,CAAT,EAAWjC,CAAX,EAAcyB,CAAd,CAAH;SAAoBF,CAAC,EAAC,CAACU,CAAD,EAAGjC,CAAH,EAAKA,CAAL,EAAOqB,CAAP,EAASD,CAAT,EAAWA,CAAX,EAAcK,CAAd,CAAtB;SAAuCD,CAAC,EAAC,CAACJ,CAAD,EAAGA,CAAH,EAAKa,CAAL,EAAOjC,CAAP,EAASA,CAAT,EAAWqB,CAAX,EAAcI,CAAd;QAA/C;MAA7G,CAA+K,KAAKC,KAApL,CAAN;SAAiMjB,CAAC,GAACT,CAAC,CAACuB,CAArM;SAAuMV,CAAC,GAACb,CAAC,CAACwB,CAA3M;;KAA6M,KAAKF,KAAL,CAAWF,CAAX,GAAapB,CAAC,CAACoB,CAAf,EAAiB,KAAKE,KAAL,CAAWC,CAAX,GAAad,CAA9B,EAAgC,KAAKa,KAAL,CAAWE,CAAX,GAAaX,CAA7C,EAA+C,KAAKiB,UAAL,GAAgB,UAAShC,CAAT,EAAW;OAAC,IAAID,CAAC,GAACC,CAAC,CAACyB,CAAR;WAAUxB,CAAC,GAACD,CAAC,CAAC0B,CAAd;OAAgB,OAAM,CAAC,GAAD,EAAKJ,CAAC,CAACV,IAAI,CAAC2B,KAAL,CAAW,MAAIvC,CAAC,CAACsB,CAAjB,EAAoBW,QAApB,CAA6B,EAA7B,CAAD,CAAN,EAAyCX,CAAC,CAACV,IAAI,CAAC2B,KAAL,CAAW,MAAIxC,CAAf,EAAkBkC,QAAlB,CAA2B,EAA3B,CAAD,CAA1C,EAA2EX,CAAC,CAACV,IAAI,CAAC2B,KAAL,CAAW,MAAItC,CAAf,EAAkBgC,QAAlB,CAA2B,EAA3B,CAAD,CAA5E,EAA8GO,IAA9G,CAAmH,EAAnH,EAAuHN,WAAvH,EAAN;MAA5B,CAAwK,KAAKV,KAA7K,CAA/D,EAAmP,KAAKO,UAAL,GAAgBI,CAAC,CAAC,KAAKH,UAAN,CAApQ,EAAsR,KAAKI,iBAAL,EAAtR;IAA9+B,EAA8xCrC,CAAC,CAACqC,iBAAF,GAAoB,YAAU;KAAC,IAAIpC,CAAC,GAAC,KAAKwB,KAAX;KAAiB,KAAKiB,WAAL,GAAiB,CAAC,MAAIzC,CAAC,CAACsB,CAAN,GAAQ,MAAItB,CAAC,CAACyB,CAAd,GAAgB,MAAIzB,CAAC,CAAC0B,CAAvB,IAA0B,GAA3C,EAA+C,KAAKgB,OAAL,GAAa,KAAKD,WAAL,GAAiB,EAA7E,EAAgF,KAAKE,QAAL,GAAc,CAAC,KAAKD,OAApG;IAA90C,EAA27CzC,CAAC,CAACD,CAAD,EAAG,CAAC;KAACQ,GAAG,EAAC,KAAL;KAAWoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKpB,KAAZ;;IAA3B,EAA+C;KAAChB,GAAG,EAAC,KAAL;KAAWoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKhB,KAAZ;;IAAzE,EAA6F;KAACpB,GAAG,EAAC,KAAL;KAAWoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKb,UAAZ;;IAAvH,EAAgJ;KAACvB,GAAG,EAAC,WAAL;KAAiBoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKZ,UAAZ;;IAAhL,EAAyM;KAACxB,GAAG,EAAC,YAAL;KAAkBoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKH,WAAZ;;IAA1O,EAAoQ;KAACjC,GAAG,EAAC,QAAL;KAAcoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKF,OAAZ;;IAAjS,EAAuT;KAAClC,GAAG,EAAC,SAAL;KAAeoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKD,QAAZ;;IAArV,CAAH,CAA57C,EAA6yD3C,CAApzD;CAAszD,CAA36D,EAAN;;CAAo7D,SAASmC,CAAT,CAAWnC,CAAX,EAAa;GAAC,OAAO6C,QAAQ,CAAC7C,CAAC,CAAC8C,OAAF,CAAU,GAAV,EAAc,EAAd,CAAD,EAAmB,EAAnB,CAAf;CAAsC;;CAAA,IAAInB,CAAC,GAAC,YAAU;GAAC,SAAS3B,CAAT,CAAWA,CAAX,EAAa;KAAC,IAAID,CAAC,GAAC,IAAN;KAAW,KAAK,CAAL,KAASC,CAAT,KAAaA,CAAC,GAAC,EAAf,GAAmB,KAAK+C,WAAL,GAAiB,IAApC,EAAyC,KAAKC,YAAL,GAAkB,IAA3D,EAAgE,KAAKC,YAAL,GAAkB,CAAlF,EAAoF,KAAKC,UAAL,GAAgB,CAApG,EAAsG,KAAKC,OAAL,GAAa,CAAnH,EAAqH,KAAKC,cAAL,GAAoB,CAAC,CAA1I,EAA4I,KAAKC,gBAAL,GAAsB,CAAlK,EAAoK,KAAKC,WAAL,GAAiB,CAAC,CAAtL,EAAwL,KAAKC,UAAL,GAAgB,EAAxM,EAA2M,KAAKC,KAAL,GAAW,CAAtN,EAAwN,KAAKC,MAAL,GAAY,CAApO,EAAsO,KAAKC,GAAL,GAAS,CAA/O,EAAiP,KAAKjF,QAAL,GAAc;OAACyC,CAAC,EAAC,CAAH;OAAKE,CAAC,EAAC;MAAtQ,EAAyQ,KAAKuC,KAAL,GAAW,IAAIpC,CAAJ,CAAM,CAAN,CAApR,EAA6R,KAAKqC,eAAL,GAAqB,IAAIrC,CAAJ,CAAM,CAAN,CAAlT,EAA2T,KAAKsC,QAAL,GAAc,IAAItC,CAAJ,CAAM,CAAN,CAAzU,EAAkV,KAAKuC,sBAAL,GAA4B,UAAS9D,CAAT,EAAW;OAAC,IAAIC,CAAC,GAACF,CAAC,CAACgE,WAAF,CAAcC,qBAAd,EAAN;WAA4C9D,CAAC,GAACa,CAAC,CAACf,CAAD,CAA/C;WAAmDW,CAAC,GAACT,CAAC,CAACgB,CAAvD;WAAyDI,CAAC,GAACpB,CAAC,CAACkB,CAA7D;OAA+DrB,CAAC,CAACuD,WAAF,GAAc,CAAC,CAAf,EAAiBvD,CAAC,CAACkE,eAAF,CAAkBtD,CAAC,GAACV,CAAC,CAACiE,IAAtB,EAA2B5C,CAAC,GAACrB,CAAC,CAACkE,GAA/B,CAAjB,EAAqDpE,CAAC,CAACqE,wBAAF,EAArD,EAAkFrE,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,SAA3B,EAAqCvE,CAAC,CAACwE,oBAAvC,CAAlF,EAA+IxE,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,UAA3B,EAAsCvE,CAAC,CAACwE,oBAAxC,CAA/I,EAA6MxE,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,WAA3B,EAAuCvE,CAAC,CAACyE,sBAAzC,CAA7M,EAA8QzE,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,WAA3B,EAAuCvE,CAAC,CAACyE,sBAAzC,CAA9Q,EAA+UxE,CAAC,CAACyE,cAAF,EAA/U;MAAzb,EAA4xB,KAAKD,sBAAL,GAA4B,UAASxE,CAAT,EAAW;OAAC,IAAIC,CAAC,GAACF,CAAC,CAACgE,WAAF,CAAcC,qBAAd,EAAN;WAA4C9D,CAAC,GAACa,CAAC,CAACf,CAAD,CAA/C;OAAmDD,CAAC,CAACkE,eAAF,CAAkB/D,CAAC,CAACgB,CAAF,GAAIjB,CAAC,CAACiE,IAAxB,EAA6BhE,CAAC,CAACkB,CAAF,GAAInB,CAAC,CAACkE,GAAnC,GAAwCpE,CAAC,CAACqE,wBAAF,EAAxC;MAAv3B,EAA67B,KAAKG,oBAAL,GAA0B,YAAU;OAACxE,CAAC,CAACuD,WAAF,GAAc,CAAC,CAAf,EAAiBvD,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,SAA9B,EAAwC3E,CAAC,CAACwE,oBAA1C,CAAjB,EAAiFxE,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,UAA9B,EAAyC3E,CAAC,CAACwE,oBAA3C,CAAjF,EAAkJxE,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,WAA9B,EAA0C3E,CAAC,CAACyE,sBAA5C,CAAlJ,EAAsNzE,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,WAA9B,EAA0C3E,CAAC,CAACyE,sBAA5C,CAAtN;MAAl+B,EAA6vC,KAAKG,eAAL,GAAqB,UAAS3E,CAAT,EAAW;OAAC,IAAIC,CAAC,GAACF,CAAC,CAAC6E,IAAF,CAAOZ,qBAAP,EAAN;WAAqC9D,CAAC,GAACa,CAAC,CAACf,CAAD,CAAD,CAAKoB,CAA5C;OAA8CrB,CAAC,CAACuD,WAAF,GAAc,CAAC,CAAf,EAAiBvD,CAAC,CAAC8E,UAAF,CAAa3E,CAAC,GAACD,CAAC,CAACkE,GAAjB,CAAjB,EAAuCpE,CAAC,CAAC+E,sBAAF,EAAvC,EAAkE/E,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,SAA3B,EAAqCvE,CAAC,CAACgF,aAAvC,CAAlE,EAAwHhF,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,UAA3B,EAAsCvE,CAAC,CAACgF,aAAxC,CAAxH,EAA+KhF,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,WAA3B,EAAuCvE,CAAC,CAACiF,eAAzC,CAA/K,EAAyOjF,CAAC,CAACsE,OAAF,CAAUC,gBAAV,CAA2B,WAA3B,EAAuCvE,CAAC,CAACiF,eAAzC,CAAzO,EAAmShF,CAAC,CAACyE,cAAF,EAAnS;MAA50C,EAAmoD,KAAKO,eAAL,GAAqB,UAAShF,CAAT,EAAW;OAAC,IAAIC,CAAC,GAACF,CAAC,CAAC6E,IAAF,CAAOZ,qBAAP,EAAN;WAAqC9D,CAAC,GAACa,CAAC,CAACf,CAAD,CAAxC;OAA4CD,CAAC,CAAC8E,UAAF,CAAa3E,CAAC,CAACkB,CAAF,GAAInB,CAAC,CAACkE,GAAnB,GAAwBpE,CAAC,CAAC+E,sBAAF,EAAxB;MAAhtD,EAAowD,KAAKC,aAAL,GAAmB,YAAU;OAAChF,CAAC,CAACuD,WAAF,GAAc,CAAC,CAAf,EAAiBvD,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,SAA9B,EAAwC3E,CAAC,CAACgF,aAA1C,CAAjB,EAA0EhF,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,UAA9B,EAAyC3E,CAAC,CAACgF,aAA3C,CAA1E,EAAoIhF,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,WAA9B,EAA0C3E,CAAC,CAACiF,eAA5C,CAApI,EAAiMjF,CAAC,CAACsE,OAAF,CAAUK,mBAAV,CAA8B,WAA9B,EAA0C3E,CAAC,CAACiF,eAA5C,CAAjM;MAAlyD,EAAiiE,KAAKX,OAAL,GAAarE,CAAC,CAACiF,MAAF,IAAUA,MAAxjE,EAA+jE,KAAKC,SAAL,GAAe,KAAKb,OAAL,CAAazF,QAA3lE,EAAomE,KAAKuG,GAAL,GAAS,KAAKD,SAAL,CAAetF,aAAf,CAA6B,KAA7B,CAA7mE,EAAipE,KAAKuF,GAAL,CAASC,SAAT,GAAmB,KAApqE,EAA0qE,KAAKD,GAAL,CAASE,SAAT,GAAmB,wOAA7rE,EAAs6E,KAAKtB,WAAL,GAAiB,KAAKoB,GAAL,CAAStG,aAAT,CAAuB,iBAAvB,CAAv7E,EAAi+E,KAAK+F,IAAL,GAAU,KAAKO,GAAL,CAAStG,aAAT,CAAuB,UAAvB,CAA3+E,EAA8gF,KAAKyG,WAAL,GAAiB,KAAKH,GAAL,CAAStG,aAAT,CAAuB,iBAAvB,CAA/hF,EAAykF,KAAK0G,UAAL,GAAgB,KAAKJ,GAAL,CAAStG,aAAT,CAAuB,gBAAvB,CAAzlF,EAAkoF,KAAKkF,WAAL,CAAiBO,gBAAjB,CAAkC,WAAlC,EAA8C,KAAKR,sBAAnD,CAAloF,EAA6sF,KAAKC,WAAL,CAAiBO,gBAAjB,CAAkC,YAAlC,EAA+C,KAAKR,sBAApD,CAA7sF,EAAyxF,KAAKc,IAAL,CAAUN,gBAAV,CAA2B,WAA3B,EAAuC,KAAKK,eAA5C,CAAzxF,EAAs1F,KAAKC,IAAL,CAAUN,gBAAV,CAA2B,YAA3B,EAAwC,KAAKK,eAA7C,CAAt1F,EAAo5F3E,CAAC,CAACwF,EAAF,IAAM,KAAKC,QAAL,CAAczF,CAAC,CAACwF,EAAhB,CAA15F,EAA86FxF,CAAC,CAAC0F,UAAF,IAAc,KAAKC,kBAAL,CAAwB3F,CAAC,CAAC0F,UAA1B,CAA57F,EAAk+F1F,CAAC,CAAC4F,UAAF,KAAe,KAAK7C,WAAL,GAAiB/C,CAAC,CAAC4F,UAAlC,CAAl+F,EAAghG5F,CAAC,CAAC6F,WAAF,KAAgB,KAAK7C,YAAL,GAAkBhD,CAAC,CAAC6F,WAApC,CAAhhG,EAAikG,KAAKC,OAAL,CAAa9F,CAAC,CAACwD,KAAF,IAAS,GAAtB,EAA0BxD,CAAC,CAACyD,MAAF,IAAU,GAApC,CAAjkG,EAA0mG,KAAKsC,QAAL,CAAc/F,CAAC,CAAC2D,KAAhB,CAA1mG;;;GAAioG,IAAI5D,CAAC,GAACC,CAAC,CAACS,SAAR;GAAkB,OAAOV,CAAC,CAAC0F,QAAF,GAAW,UAASzF,CAAT,EAAW;KAAC,OAAM,YAAU,OAAOA,CAAjB,GAAmBpB,QAAQ,CAACC,aAAT,CAAuBmB,CAAvB,EAA0BX,WAA1B,CAAsC,KAAK8F,GAA3C,CAAnB,GAAmEnF,CAAC,CAACX,WAAF,CAAc,KAAK8F,GAAnB,CAAnE,EAA2F,IAAjG;IAAvB,EAA8HpF,CAAC,CAACiG,MAAF,GAAS,YAAU;KAAC,KAAKzC,UAAL,GAAgB,EAAhB,EAAmB,KAAKgB,oBAAL,EAAnB,EAA+C,KAAKQ,aAAL,EAA/C,EAAoE,KAAKhB,WAAL,CAAiBW,mBAAjB,CAAqC,WAArC,EAAiD,KAAKZ,sBAAtD,CAApE,EAAkJ,KAAKC,WAAL,CAAiBW,mBAAjB,CAAqC,YAArC,EAAkD,KAAKZ,sBAAvD,CAAlJ,EAAiO,KAAKc,IAAL,CAAUF,mBAAV,CAA8B,WAA9B,EAA0C,KAAKC,eAA/C,CAAjO,EAAiS,KAAKC,IAAL,CAAUF,mBAAV,CAA8B,YAA9B,EAA2C,KAAKC,eAAhD,CAAjS,EAAkW,KAAKQ,GAAL,CAASc,UAAT,IAAqB,KAAKd,GAAL,CAASc,UAAT,CAAoBC,WAApB,CAAgC,KAAKf,GAArC,CAAvX;IAAlJ,EAAojBpF,CAAC,CAACgG,QAAF,GAAW,UAAS/F,CAAT,EAAW;KAAC,KAAKoD,cAAL,GAAoBlD,CAAC,CAACF,CAAD,CAArB,EAAyB,KAAK2D,KAAL,CAAW7B,OAAX,CAAmB9B,CAAnB,CAAzB;KAA+C,IAAID,CAAC,GAAC,KAAK4D,KAAL,CAAWwC,GAAjB;SAAqBlG,CAAC,GAACF,CAAC,CAACwB,CAAzB;SAA2BZ,CAAC,GAACZ,CAAC,CAACY,CAA/B;SAAiCI,CAAC,GAAChB,CAAC,CAAC8B,CAArC;KAAuC,OAAOnB,KAAK,CAACT,CAAD,CAAL,KAAW,KAAKyD,GAAL,GAASzD,CAApB,GAAuB,KAAKgE,eAAL,CAAqB,KAAKZ,gBAAL,GAAsB1C,CAA3C,EAA6C,CAAC,IAAEI,CAAH,IAAM,KAAKmC,UAAxD,CAAvB,EAA2F,KAAK2B,UAAL,CAAgB,CAAC,IAAE,KAAKnB,GAAR,IAAa,KAAKR,UAAlC,CAA3F,EAAyI,KAAKkD,UAAL,EAAzI,EAA2J,IAAlK;IAAjqB,EAAy0BrG,CAAC,CAAC+F,OAAF,GAAU,UAAS9F,CAAT,EAAWD,CAAX,EAAa;KAAC,OAAO,KAAKyD,KAAL,GAAWxD,CAAX,EAAa,KAAKyD,MAAL,GAAY1D,CAAzB,EAA2B,KAAKoF,GAAL,CAASkB,KAAT,CAAe7C,KAAf,GAAqB,KAAKA,KAAL,GAAW,KAAKT,WAAhE,EAA4E,KAAKoC,GAAL,CAASkB,KAAT,CAAe5C,MAAf,GAAsB,KAAKA,MAAL,GAAY,KAAKT,YAAnH,EAAgI,KAAKK,gBAAL,GAAsB,KAAKG,KAAL,GAAW,EAAjK,EAAoK,KAAKO,WAAL,CAAiBsC,KAAjB,CAAuB7C,KAAvB,GAA6B,KAAKH,gBAAL,GAAsB,IAAvN,EAA4N,KAAKH,UAAL,GAAgB,KAAKO,MAAjP,EAAwP,KAAKN,OAAL,GAAa,KAAKD,UAAL,GAAgB,CAArR,EAAuR,IAA9R;IAAj2B,EAAqoCnD,CAAC,CAAC4F,kBAAF,GAAqB,UAAS3F,CAAT,EAAW;KAAC,OAAO,KAAK4D,eAAL,CAAqB9B,OAArB,CAA6B9B,CAA7B,GAAgC,KAAKmF,GAAL,CAASkB,KAAT,CAAeC,OAAf,GAAuB,KAAvD,EAA6D,KAAKnB,GAAL,CAASkB,KAAT,CAAeX,UAAf,GAA0B,KAAK9B,eAAL,CAAqB2C,SAA5G,EAAsH,IAA7H;IAAtqC,EAAyyCxG,CAAC,CAACyG,eAAF,GAAkB,YAAU;KAAC,OAAO,KAAKrB,GAAL,CAASkB,KAAT,CAAeC,OAAf,GAAuB,KAAvB,EAA6B,KAAKnB,GAAL,CAASkB,KAAT,CAAeX,UAAf,GAA0B,MAAvD,EAA8D,IAArE;IAAt0C,EAAi5C3F,CAAC,CAAC0G,QAAF,GAAW,UAASzG,CAAT,EAAW;KAAC,OAAO,KAAKuD,UAAL,CAAgBxE,OAAhB,CAAwBiB,CAAxB,IAA2B,CAA3B,KAA+B,KAAKuD,UAAL,CAAgBvE,IAAhB,CAAqBgB,CAArB,GAAwBA,CAAC,CAAC,KAAK0G,YAAL,EAAD,CAAxD,GAA+E,IAAtF;IAAx6C,EAAogD3G,CAAC,CAAC4G,QAAF,GAAW,YAAU;KAAC,OAAO,KAAKvD,cAAL,GAAoB,KAAKwD,YAAL,EAApB,GAAwC,KAAKF,YAAL,EAA/C;IAA1hD,EAA8lD3G,CAAC,CAAC2G,YAAF,GAAe,YAAU;KAAC,OAAO,KAAK/C,KAAL,CAAW4C,SAAX,CAAqBrE,WAArB,EAAP;IAAxnD,EAAmqDnC,CAAC,CAAC6G,YAAF,GAAe,YAAU;KAAC,OAAO,KAAKjD,KAAL,CAAWkD,GAAlB;IAA7rD,EAAotD9G,CAAC,CAAC+G,MAAF,GAAS,YAAU;KAAC,OAAO,KAAKnD,KAAL,CAAWoD,GAAlB;IAAxuD,EAA+vDhH,CAAC,CAACiH,MAAF,GAAS,YAAU;KAAC,OAAO,KAAKrD,KAAL,CAAWwC,GAAlB;IAAnxD,EAA0yDpG,CAAC,CAACkH,MAAF,GAAS,YAAU;KAAC,OAAO,KAAKtD,KAAL,CAAWsD,MAAlB;IAA9zD,EAAw1DlH,CAAC,CAACmH,OAAF,GAAU,YAAU;KAAC,OAAO,KAAKvD,KAAL,CAAWuD,OAAlB;IAA72D,EAAw4DnH,CAAC,CAACkE,eAAF,GAAkB,UAASjE,CAAT,EAAWD,CAAX,EAAa;KAAC,KAAKtB,QAAL,CAAcyC,CAAd,GAAgBP,CAAC,CAACX,CAAD,EAAG,CAAH,EAAK,KAAKqD,gBAAV,CAAjB,EAA6C,KAAK5E,QAAL,CAAc2C,CAAd,GAAgBT,CAAC,CAACZ,CAAD,EAAG,CAAH,EAAK,KAAKmD,UAAV,CAA9D,EAAoF,KAAKoC,WAAL,CAAiBe,KAAjB,CAAuBc,SAAvB,GAAiC,eAAa,KAAK1I,QAAL,CAAcyC,CAA3B,GAA6B,MAA7B,GAAoC,KAAKzC,QAAL,CAAc2C,CAAlD,GAAoD,KAAzK;IAAx6D,EAAwlErB,CAAC,CAACqE,wBAAF,GAA2B,YAAU;KAAC,KAAKT,KAAL,CAAWtB,OAAX,CAAmB;OAACd,CAAC,EAAC,KAAKmC,GAAR;OAAY/C,CAAC,EAAC,KAAKlC,QAAL,CAAcyC,CAAd,GAAgB,KAAKmC,gBAAnC;OAAoDxB,CAAC,EAAC,IAAE,KAAKpD,QAAL,CAAc2C,CAAd,GAAgB,KAAK8B;MAAhG,GAA6G,KAAKkE,YAAL,EAA7G;IAA9nE,EAAgwErH,CAAC,CAAC8E,UAAF,GAAa,UAAS7E,CAAT,EAAW;KAAC,KAAKiD,YAAL,GAAkBtC,CAAC,CAACX,CAAD,EAAG,CAAH,EAAK,KAAKmD,OAAV,CAAnB,EAAsC,KAAKoC,UAAL,CAAgBc,KAAhB,CAAsBc,SAAtB,GAAgC,gBAAc,KAAKlE,YAAnB,GAAgC,KAAtG;IAAzxE,EAAs4ElD,CAAC,CAAC+E,sBAAF,GAAyB,YAAU;KAAC,IAAI9E,CAAC,GAAC,KAAKgH,MAAL,EAAN;KAAoB,KAAKtD,GAAL,GAAS,IAAE,KAAKT,YAAL,GAAkB,KAAKE,OAAlC,EAA0C,KAAKQ,KAAL,CAAWtB,OAAX,CAAmB;OAACd,CAAC,EAAC,KAAKmC,GAAR;OAAY/C,CAAC,EAACX,CAAC,CAACW,CAAhB;OAAkBkB,CAAC,EAAC7B,CAAC,CAAC6B;MAAzC,CAA1C,EAAuF,KAAKuE,UAAL,EAAvF;IAA97E,EAAwiFrG,CAAC,CAACqG,UAAF,GAAa,YAAU;KAAC,KAAKvC,QAAL,CAAcxB,OAAd,CAAsB;OAACd,CAAC,EAAC,KAAKmC,GAAR;OAAY/C,CAAC,EAAC,CAAd;OAAgBkB,CAAC,EAAC;MAAxC,GAA4C,KAAKkC,WAAL,CAAiBsC,KAAjB,CAAuBX,UAAvB,GAAkC,qCAAmC,KAAK7B,QAAL,CAAc0C,SAAjD,GAA2D,GAAzI,EAA6I,KAAKa,YAAL,EAA7I;IAAhkF,EAAkuFrH,CAAC,CAACqH,YAAF,GAAe,YAAU;KAAC,KAAK9B,WAAL,CAAiBe,KAAjB,CAAuBX,UAAvB,GAAkC,KAAKgB,YAAL,EAAlC,EAAsD,KAAKpB,WAAL,CAAiBe,KAAjB,CAAuBgB,WAAvB,GAAmC,KAAKJ,MAAL,KAAc,MAAd,GAAqB,MAA9G,EAAqH,KAAKK,cAAL,EAArH;IAA5vF,EAAw4FvH,CAAC,CAACuH,cAAF,GAAiB,YAAU;KAAC,IAAItH,CAAC,GAAC,IAAN;;KAAW,KAAKuD,UAAL,CAAgBgE,OAAhB,CAAwB,UAASxH,CAAT,EAAW;OAAC,OAAOA,CAAC,CAACC,CAAC,CAAC0G,YAAF,EAAD,CAAR;MAApC;IAA/6F,EAAi/FzG,CAAC,CAACD,CAAD,EAAG,CAAC;KAACQ,GAAG,EAAC,YAAL;KAAkBoC,GAAG,EAAC,eAAU;OAAC,OAAO,KAAKU,WAAZ;;IAAlC,CAAH,CAAl/F,EAAmjGtD,CAA1jG;CAA4jG,CAAnvM,EAAN;;AAA4vMA,YAAC,CAAC,guBAAD,CAAD;;ACA5vR,gBAAe,UAAC2D,KAAD,EACf;GACC,IAAI,CAACA,KAAL,EACC,MAAM,IAAInF,KAAJ,CAAU,mBAAV,CAAN;GAEDmF,KAAK,GAAGA,KAAK,CAACb,OAAN,CAAc,GAAd,EAAmB,EAAnB,CAAR;GAEA,IAAIa,KAAK,CAACnE,MAAN,IAAgB,CAApB,EACCmE,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAhB,GAAsBA,KAAK,CAAC,CAAD,CAA3B,GAAiCA,KAAK,CAAC,CAAD,CAAtC,GAA4CA,KAAK,CAAC,CAAD,CAAjD,GAAuDA,KAAK,CAAC,CAAD,CAApE,CADD,KAEK,IAAIA,KAAK,CAACnE,MAAN,IAAgB,CAApB,EACJ,MAAM,IAAIhB,KAAJ,CAAU,mBAAV,CAAN;GAED,OAAO;KACN8C,CAAC,EAAEuB,QAAQ,CAACc,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAjB,EAAsB,EAAtB,CADL;KAENlC,CAAC,EAAEoB,QAAQ,CAACc,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAjB,EAAsB,EAAtB,CAFL;KAGNjC,CAAC,EAAEmB,QAAQ,CAACc,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAjB,EAAsB,EAAtB;IAHZ;CAKA,CAjBD;;ACCA,gBAAe,UAACrC,CAAD,EAAIG,CAAJ,EAAOC,CAAP,EACf;GACC,OAAO,CAAC,CAAC,KAAK,EAAN,KAAamB,QAAQ,CAACvB,CAAD,EAAI,EAAJ,CAAR,IAAmB,EAAhC,KAAuCuB,QAAQ,CAACpB,CAAD,EAAI,EAAJ,CAAR,IAAmB,CAA1D,IAA+DoB,QAAQ,CAACnB,CAAD,EAAI,EAAJ,CAAxE,EAAiFO,QAAjF,CAA0F,EAA1F,EAA8FuF,KAA9F,CAAoG,CAApG,CAAP;CACA,CAHD;;;;;;;;;CCKA,IAAMC,OAAO,GAAG;GACf3I,WAAW,EAAE,eADE;GAEf6E,KAAK,EAAE;CAFQ,CAAhB;;;;;;;;AAMA,KAAa+D,wBAAb;GAAA;KAAA;KAAA,oBAoBC;OACC,yCAAO,IAAP;MArBF;KAAA,kBAwBeC,IAxBf,EAyBC;OACC,IAAI,uDAAmBA,IAAvB,EACC;OAED,KAAKC,IAAL,CAAUL,OAAV,CAAkB,UAAAM,IAAI;SAAA,OAAIA,IAAI,CAACC,SAAL,CAAe9B,MAAf,CAAsB,QAAtB,CAAJ;QAAtB;;OACA,IAAI,CAAC,KAAK4B,IAAL,CAAUG,QAAV,CAAmBJ,IAAnB,CAAL,EACA;SACC,oDAAgBG,SAAhB,CAA0B9B,MAA1B,CAAiC,QAAjC;SACA,oDAAkB,IAAlB;SACA;;;OAGD,oDAAkB2B,IAAlB;;OAEAA,IAAG,CAACG,SAAJ,CAAcE,GAAd,CAAkB,QAAlB;;OAEA,IAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWR,IAAG,CAACS,YAAJ,CAAiB,YAAjB,CAAX,CAAlB;OACA,IAAMC,IAAI,GAAG/H,MAAM,CAAC+H,IAAP,CAAYJ,SAAZ,CAAb;OAEA,IAAIK,aAAa,GAAG,IAApB;;OACA,KAAK,IAAIC,KAAT,IAAkB,KAAKC,QAAvB,EACA;SACC,IAAIC,OAAO,GAAG,KAAKD,QAAL,CAAcD,KAAd,CAAd;SACA,IAAIG,UAAU,GAAGD,OAAO,CAACL,YAAR,CAAqB,aAArB,CAAjB;;SAEA,IAAI,CAACC,IAAI,CAACN,QAAL,CAAcW,UAAd,CAAL,EACA;WACCD,OAAO,CAACpC,KAAR,CAAcsC,OAAd,GAAwB,MAAxB;WACA;;;SAGDF,OAAO,CAACpC,KAAR,CAAcsC,OAAd,GAAwB,EAAxB;SACA,KAAKC,eAAL,CAAqBH,OAArB,EAA8BR,SAAS,CAACS,UAAD,CAAvC;;SAEA,IAAIL,IAAI,CAAC,CAAD,CAAJ,IAAWK,UAAf,EACA;WACCJ,aAAa,GAAGG,OAAhB;;;;OAIF,IAAIH,aAAJ,EACA;SACC,KAAKA,aAAL,GAAqBA,aAArB;;;;KAnEH;KAAA,oBAwEC;OACC,yCAAO,IAAP;MAzEF;KAAA,kBA4EmBG,OA5EnB,EA6EC;OACC,IAAI,2DAAuBA,OAA3B,EACA;SACC,KAAKI,WAAL,GAAmBJ,OAAO,CAAC5J,aAAR,CAAsB,OAAtB,EAA+BiK,KAAlD;SACA;;;OAGD,KAAKN,QAAL,CAAcjB,OAAd,CAAsB,UAAAM,IAAI;SAAA,OAAIA,IAAI,CAACC,SAAL,CAAe9B,MAAf,CAAsB,QAAtB,CAAJ;QAA1B;OAEA,IAAI,CAAC,KAAKwC,QAAL,CAAcT,QAAd,CAAuBU,OAAvB,CAAL,EACC,MAAM,IAAIjK,KAAJ,CAAU,mBAAV,CAAN;OAED,wDAAsBiK,OAAtB;OAEAA,OAAO,CAACX,SAAR,CAAkBE,GAAlB,CAAsB,QAAtB;OAEA,KAAKa,WAAL,GAAmBJ,OAAO,CAAC5J,aAAR,CAAsB,OAAtB,EAA+BiK,KAAlD;;;KA7FF;KAAA,oBAiGC;OACC,yCAAO,IAAP;MAlGF;KAAA,kBAqGiBnF,KArGjB,EAsGC;OACC,IACA;SACCA,KAAK,GAAGA,KAAK,CAACb,OAAN,CAAc,GAAd,EAAmB,EAAnB,CAAR;SAEA,IAAI,yDAAqBa,KAAzB,EACC;SAED,sDAAoBA,KAApB;SAEA,KAAKoF,cAAL,CAAoBpF,KAApB;SACA,KAAKiF,eAAL,CAAqB,KAAKN,aAA1B,EAAyC3E,KAAzC;SAEA,IAAI,KAAKqF,WAAT,EACC,KAAKA,WAAL,CAAiBjD,QAAjB,CAA0BpC,KAA1B;SAED,IAAMsF,YAAY,GAAGf,IAAI,CAACgB,SAAL,CAAe,KAAKC,eAAL,EAAf,EAAuCjH,WAAvC,EAArB;SACA,IAAIkH,KAAK,GAAG,CAAZ;;SACA,KAAK,IAAIb,KAAT,IAAkB,KAAKX,IAAvB,EACA;WACC,IAAMK,SAAS,GAAG,KAAKL,IAAL,CAAUW,KAAV,EAAiBH,YAAjB,CAA8B,YAA9B,EAA4ClG,WAA5C,EAAlB;;WACC,IAAI+G,YAAY,IAAIhB,SAApB,EACD;aACC,KAAKoB,SAAL,GAAiB,KAAKzB,IAAL,CAAUW,KAAV,CAAjB;aACA;YAHA,MAMD;aACCa,KAAK;;;;SAIP,IAAIA,KAAK,IAAI,KAAKxB,IAAL,CAAUpI,MAAvB,EACA;WACC,KAAK6J,SAAL,GAAiB,IAAjB;;QAjCF,CAoCA,OAAOtJ,CAAP,EACA;SACCuJ,OAAO,CAACC,KAAR,CAAcxJ,CAAC,CAACyJ,OAAhB;;;;;GAIF,oCACA;KAAA,IADYlL,OACZ,uEADsB,EACtB;KAAA;KAAA,6CAhJU,EAgJV;KAAA,+CA9IY,IA8IZ;KAAA,qDA7IkB,IA6IlB;KAAA,8CA5IW,IA4IX;KAAA,gDA3Ia,IA2Ib;KAAA,+CA1IY,IA0IZ;KAAA,8CAzIW,IAyIX;KAAA,iDAvIc,IAuId;KAAA,8CAtIW,EAsIX;KAAA,0CArIO,EAqIP;;KAAA;OAAA;OAAA,OAnIa;;;KAmIb;OAAA;OAAA,OAlIiB;;;KAkIjB;OAAA;OAAA,OAjIe;;;KAkId,KAAKA,OAAL,mCAAmBmJ,OAAnB,GAA+BnJ,OAA/B;KAEAM,QAAQ,CAAC0F,gBAAT,CAA0B,kBAA1B,EAA8C,KAAKmF,IAAL,CAAUC,IAAV,CAAe,IAAf,CAA9C;;;GArJF;KAAA;KAAA,uBAyJC;OAAA;;OACC,KAAK/K,SAAL,GAAiBC,QAAQ,CAAC+K,cAAT,CAAwB,KAAKrL,OAAL,CAAaQ,WAArC,CAAjB;OAEA,IAAI,CAAC,KAAKH,SAAV,EACC;OAED,KAAKiL,eAAL,GAAuB,KAAKjL,SAAL,CAAeE,aAAf,CAA6B,6BAA7B,CAAvB;OACA,KAAKgL,QAAL,GAAgB,KAAKlL,SAAL,CAAeE,aAAf,CAA6B,2BAA7B,CAAhB;OACA,KAAKiL,UAAL,GAAkB,KAAKnL,SAAL,CAAeE,aAAf,CAA6B,6BAA7B,CAAlB;OACA,KAAKkL,SAAL,GAAiB,KAAKpL,SAAL,CAAeE,aAAf,CAA6B,4BAA7B,CAAjB;OACA,KAAKmL,QAAL,GAAgB,KAAKrL,SAAL,CAAeE,aAAf,CAA6B,2BAA7B,CAAhB;OAEA,KAAK+I,IAAL,kCAAgB,KAAKjJ,SAAL,CAAesL,gBAAf,CAAgC,0BAAhC,CAAhB;OACA,KAAKzB,QAAL,kCAAoB,KAAK7J,SAAL,CAAesL,gBAAf,CAAgC,yBAAhC,CAApB;OAEA,IAAMZ,SAAS,GAAG,KAAKzB,IAAL,CAAUsC,MAAV,CAAiB,UAAAvC,GAAG;SAAA,OAAIA,GAAG,CAACG,SAAJ,CAAcqC,QAAd,CAAuB,QAAvB,CAAJ;QAApB,EAA0D,CAA1D,CAAlB;OACA,IAAId,SAAJ,EACC,KAAKA,SAAL,GAAiBA,SAAjB,CADD,KAGA;SACC,KAAKf,aAAL,GAAqB,KAAKE,QAAL,CAAc0B,MAAd,CAAqB,UAAAzB,OAAO;WAAA,OAAIA,OAAO,CAACX,SAAR,CAAkBqC,QAAlB,CAA2B,QAA3B,CAAJ;UAA5B,EAAsE,CAAtE,CAArB;;;OAGD,IAAI,KAAK3B,QAAT,EACA;SACC,KAAKA,QAAL,CAAcjB,OAAd,CAAsB,UAAAM,IAAI,EAAI;WAC7BA,IAAI,CAACvD,gBAAL,CACC,OADD,EAEC,gBAAuB;aAAA,IAApB8F,aAAoB,QAApBA,aAAoB;aACtB,KAAI,CAAC9B,aAAL,GAAqB8B,aAArB;YAHF;UADD;;;OAUD,IAAI,KAAKxC,IAAT,EACA;SACC,KAAKA,IAAL,CAAUL,OAAV,CAAkB,UAAAM,IAAI,EAAI;WACzBA,IAAI,CAACvD,gBAAL,CACC,OADD,EAEC,iBAAuB;aAAA,IAApB8F,aAAoB,SAApBA,aAAoB;aACtB,KAAI,CAACf,SAAL,GAAiBe,aAAjB;YAHF;UADD;;;OAUD,IAAI,KAAKJ,QAAT,EACA;SACC,CAAC,MAAD,EAAS,OAAT,EAAkBzC,OAAlB,CACC,UAAA8C,KAAK;WAAA,OAAI,KAAI,CAACL,QAAL,CAAc1F,gBAAd,CACR+F,KADQ,EAERC,EAAE,CAACC,QAAH,CAAY,iBAAgB;aAAA,IAAbC,MAAa,SAAbA,MAAa;aAC3B,KAAI,CAAC3B,WAAL,GAAmB2B,MAAM,CAAC1B,KAA1B;YADD,EAEG,GAFH,CAFQ,CAAJ;UADN;;;OAWD,CAAC,KAAKe,QAAN,EAAgB,KAAKC,UAArB,EAAiC,KAAKC,SAAtC,EAAiDxC,OAAjD,CACC,UAAAkD,KAAK,EAAI;SAER,IAAI,CAACA,KAAL,EAAY;SAEZ,CAAC,MAAD,EAAS,OAAT,EAAkBlD,OAAlB,CACC,UAAA8C,KAAK;WAAA,OAAII,KAAK,CAACnG,gBAAN,CACR+F,KADQ,EAERC,EAAE,CAACC,QAAH,CAAY,YAAM;aACjB,KAAI,CAAC1B,WAAL,GAAmB6B,OAAO,CACzB,KAAI,CAACb,QAAL,CAAcf,KADW,EAEzB,KAAI,CAACgB,UAAL,CAAgBhB,KAFS,EAGzB,KAAI,CAACiB,SAAL,CAAejB,KAHU,CAA1B;YADD,EAMG,GANH,CAFQ,CAAJ;UADN;QALF;;OAoBA,IAAI,KAAKkB,QAAT,EACA;SACC,CAAC,MAAD,EAAS,OAAT,EAAkBzC,OAAlB,CACC,UAAA8C,KAAK;WAAA,OAAI,KAAI,CAACL,QAAL,CAAc1F,gBAAd,CACR+F,KADQ,EAERC,EAAE,CAACC,QAAH,CAAY,iBAAgB;aAAA,IAAbC,MAAa,SAAbA,MAAa;aAC3B,KAAI,CAAC3B,WAAL,GAAmB2B,MAAM,CAAC1B,KAA1B;YADD,EAEG,GAFH,CAFQ,CAAJ;UADN;;;OAUD,IAAI,KAAKc,eAAT,EACA;SACC,KAAKZ,WAAL,GAAmB,IAAI2B,CAAJ,CAAgB;WAClCnF,EAAE,EAAE,KAAKoE,eADyB;WAElCjG,KAAK,EAAE,KAAKrF,OAAL,CAAaqF;UAFF,CAAnB;;SAKA,IAAI,KAAKqF,WAAT,EACA;WACC,KAAK4B,kBAAL;WACA,KAAK5B,WAAL,CAAiBvC,QAAjB,CAA0B,YAAK;aAC9B,IAAMI,GAAG,GAAG,KAAI,CAACmC,WAAL,CAAiBtC,YAAjB,EAAZ;;aACA,KAAI,CAACmC,WAAL,GAAmBhC,GAAnB;YAFD;WAKA5B,MAAM,CAACX,gBAAP,CAAwB,QAAxB,EAAkCgG,EAAE,CAACC,QAAH,CAAY,YAAM;aACnD,KAAI,CAACK,kBAAL;YADiC,EAE/B,GAF+B,CAAlC;;;;OAMF,IAAI,CAAC,KAAKC,SAAL,EAAL,EACCP,EAAE,CAACQ,cAAH,CAAkB,6BAAlB,EAAiD,KAAKF,kBAAL,CAAwBlB,IAAxB,CAA6B,IAA7B,CAAjD;;;KA3QH;KAAA,qCA+QC;OACC,IAAI,CAAC,KAAKV,WAAV,EACC;OAED,IAAM3C,KAAK,GAAG0E,gBAAgB,CAAC,KAAKnB,eAAN,CAA9B;OAEA,IAAMnG,MAAM,GAAGZ,QAAQ,CAACwD,KAAK,CAAC5C,MAAP,EAAe,EAAf,CAAvB;OACA,IAAMD,KAAK,GAAGX,QAAQ,CAACwD,KAAK,CAAC7C,KAAP,EAAc,EAAd,CAAtB;OAEA,KAAKwF,WAAL,CAAiBlD,OAAjB,CAAyBtC,KAAzB,EAAgCC,MAAhC,EATD;;OAYC,KAAKuF,WAAL,CAAiBjD,QAAjB,CAA0B,KAAKiD,WAAL,CAAiBtC,YAAjB,EAA1B;;;KA3RF;KAAA,+BA8RgBG,GA9RhB,EA+RC;OACC,IAAME,GAAG,GAAGiE,OAAO,CAACnE,GAAD,CAAnB;OAEA,IAAI,KAAKgD,QAAT,EACC,KAAKA,QAAL,CAAcf,KAAd,GAAsBlI,IAAI,CAAC2B,KAAL,CAAWwE,GAAG,CAACzF,CAAf,CAAtB;OAED,IAAI,KAAKwI,UAAT,EACC,KAAKA,UAAL,CAAgBhB,KAAhB,GAAwBlI,IAAI,CAAC2B,KAAL,CAAWwE,GAAG,CAACtF,CAAf,CAAxB;OAED,IAAI,KAAKsI,SAAT,EACC,KAAKA,SAAL,CAAejB,KAAf,GAAuBlI,IAAI,CAAC2B,KAAL,CAAWwE,GAAG,CAACrF,CAAf,CAAvB;OAED,IAAI,KAAKsI,QAAT,EACC,KAAKA,QAAL,CAAclB,KAAd,GAAsBjC,GAAG,CAAC/D,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAtB;;;KA5SH;KAAA,4BAgTC;OACC,OAAQ,KAAKnE,SAAL,CAAesM,YAAf,KAAgC,IAAxC;;;KAjTF;KAAA,gCAoTiBxC,OApTjB,EAoT0B5B,GApT1B,EAqTC;OACC,IAAMqE,KAAK,GAAGzC,OAAO,CAAC5J,aAAR,CAAsB,OAAtB,CAAd;;OACA,IAAIqM,KAAJ,EACA;SACCA,KAAK,CAACpC,KAAN,GAAcjC,GAAd;SACAqE,KAAK,CAACC,aAAN,CAAoB,IAAIC,KAAJ,CAAU,QAAV,CAApB;;;OAGD,IAAMC,KAAK,GAAG5C,OAAO,CAAC5J,aAAR,CAAsB,+BAAtB,CAAd;OACA,IAAIwM,KAAJ,EACCA,KAAK,CAAChF,KAAN,CAAYzC,eAAZ,GAA8B,MAAMiD,GAApC;;;KA/TH;KAAA,kCAmUC;OACC,IAAMyE,MAAM,GAAG,EAAf;;OAEA,KAAK,IAAI/C,KAAT,IAAkB,KAAKC,QAAvB,EACA;SACC8C,MAAM,CAAC,KAAK9C,QAAL,CAAcD,KAAd,EAAqBH,YAArB,CAAkC,aAAlC,CAAD,CAAN,GAA2D,KAAKI,QAAL,CAAcD,KAAd,EAAqB1J,aAArB,CAAmC,OAAnC,EAA4CiK,KAAvG;;;OAGD,OAAOwC,MAAP;;;GA3UF;CAAA;;;;;;;;"}