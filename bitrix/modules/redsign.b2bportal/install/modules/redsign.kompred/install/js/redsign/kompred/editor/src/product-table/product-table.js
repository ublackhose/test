import './product-table.css';

import { Vue } from 'ui.vue';
import VueProductTable from './vue-product-table.js';

export default class 
{
	static get toolbox()
	{
		return {
			title: BX.message('RS_KP_EDIT_BLOCK_PRODUCT_TABLE'),
			icon: `
				<svg style="width: 20px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					viewBox="0 0 477.867 477.867" style="enable-background:new 0 0 477.867 477.867;" xml:space="preserve">
					<path d="M426.667,0H51.2C22.923,0,0,22.923,0,51.2v375.467c0,28.277,22.923,51.2,51.2,51.2h375.467
						c28.277,0,51.2-22.923,51.2-51.2V51.2C477.867,22.923,454.944,0,426.667,0z M443.733,426.667c0,9.426-7.641,17.067-17.067,17.067
						H51.2c-9.426,0-17.067-7.641-17.067-17.067V51.2c0-9.426,7.641-17.067,17.067-17.067h375.467c9.426,0,17.067,7.641,17.067,17.067
						V426.667z"/>
					<path d="M153.6,102.4h-51.2c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067h51.2
						c9.426,0,17.067-7.641,17.067-17.067S163.026,102.4,153.6,102.4z"/>
					<path d="M375.467,102.4h-153.6c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067h153.6
						c9.426,0,17.067-7.641,17.067-17.067S384.892,102.4,375.467,102.4z"/>
					<path d="M153.6,221.867h-51.2c-9.426,0-17.067,7.641-17.067,17.067S92.974,256,102.4,256h51.2c9.426,0,17.067-7.641,17.067-17.067
						S163.026,221.867,153.6,221.867z"/>
					<path d="M375.467,221.867h-153.6c-9.426,0-17.067,7.641-17.067,17.067S212.441,256,221.867,256h153.6
						c9.426,0,17.067-7.641,17.067-17.067S384.892,221.867,375.467,221.867z"/>
					<path d="M153.6,341.333h-51.2c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067h51.2
						c9.426,0,17.067-7.641,17.067-17.067S163.026,341.333,153.6,341.333z"/>
					<path d="M375.467,341.333h-153.6c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067h153.6
						c9.426,0,17.067-7.641,17.067-17.067S384.892,341.333,375.467,341.333z"/>
				</svg>
			`
		};
	}

	constructor({ config })
	{
		this.config = config;
	}

	render()
	{
		const wrapper = document.createElement('div');

		const vm = new (Vue.extend(VueProductTable))({
			propsData: { rows: this.config.offer.products }
		});

		setTimeout(() => {
			vm.$mount(wrapper);
		});

		return wrapper;
	}

	save()
	{
		return {};
	}
}